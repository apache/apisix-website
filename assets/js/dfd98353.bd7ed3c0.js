"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[1524],{35318:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>h});var n=o(27378);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(o),h=r,m=u["".concat(l,".").concat(h)]||u[h]||d[h]||a;return o?n.createElement(m,i(i({ref:t},c),{},{components:o})):n.createElement(m,i({ref:t},c))}));function h(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,i=new Array(a);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<a;p++)i[p]=o[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}u.displayName="MDXCreateElement"},86043:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var n=o(25773),r=(o(27378),o(35318));const a={title:"How to Use Gitpod to Develop API Gateway?",authors:[{name:"Yong Qian",title:"Author",url:"https://github.com/nic-6443",image_url:"https://avatars.githubusercontent.com/u/22141303?v=4"},{name:"Sylvia",title:"Technical Writer",url:"https://github.com/SylviaBABY",image_url:"https://avatars.githubusercontent.com/u/39793568?v=4"}],keywords:["Apache APISIX","API Gateway","Gitpod","IDE","Develop"],description:"This article introduces the open source cloud IDE product - Gitpod, and demonstrates how to use Gitpod to develop API gateway Apache APISIX and solutions to common problems.",tags:["Ecosystem"],image:"https://static.apiseven.com/2022/blog/0818/ecosystem/%E6%96%87%E6%A1%88%2BGitpod.png"},i=void 0,s={permalink:"/blog/2022/03/03/develop-apisix-with-gitpod",source:"@site/blog/2022/03/03/develop-apisix-with-gitpod.md",title:"How to Use Gitpod to Develop API Gateway?",description:"This article introduces the open source cloud IDE product - Gitpod, and demonstrates how to use Gitpod to develop API gateway Apache APISIX and solutions to common problems.",date:"2022-03-03T00:00:00.000Z",formattedDate:"March 3, 2022",tags:[{label:"Ecosystem",permalink:"/blog/tags/ecosystem"}],readingTime:4.98,truncated:!0,authors:[{name:"Yong Qian",title:"Author",url:"https://github.com/nic-6443",image_url:"https://avatars.githubusercontent.com/u/22141303?v=4",imageURL:"https://avatars.githubusercontent.com/u/22141303?v=4"},{name:"Sylvia",title:"Technical Writer",url:"https://github.com/SylviaBABY",image_url:"https://avatars.githubusercontent.com/u/39793568?v=4",imageURL:"https://avatars.githubusercontent.com/u/39793568?v=4"}],prevItem:{title:"Apache APISIX with CoreDNS enrich service discovery",permalink:"/blog/2022/03/04/apisix-uses-coredns-enable-service-discovery"},nextItem:{title:"Biweekly Report (Feb 15 - Feb 28)",permalink:"/blog/2022/03/03/weekly-report-0228"}},l={authorsImageUrls:[void 0,void 0]},p=[{value:"Install the Gitpod Chrome Plugin",id:"install-the-gitpod-chrome-plugin",children:[],level:2},{value:"Set Up an APISIX Development Environment with Gitpod",id:"set-up-an-apisix-development-environment-with-gitpod",children:[{value:"Step 1: Execute Test Cases",id:"step-1-execute-test-cases",children:[],level:3},{value:"Step 2: Accessing HTTP services",id:"step-2-accessing-http-services",children:[],level:3}],level:2},{value:"FAQ Summary",id:"faq-summary",children:[{value:"Browser-Based Experience",id:"browser-based-experience",children:[],level:3},{value:"Private Deployment",id:"private-deployment",children:[],level:3}],level:2},{value:"Summary",id:"summary",children:[],level:2}],c={toc:p};function d(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"This article introduces the open source cloud IDE product - Gitpod, and demonstrates how to use Gitpod to develop API gateway Apache APISIX and solutions to common problems.")),(0,r.kt)("p",null,'With the advent of the cloud-native wave, all aspects of the software development process are being transformed, and one of the hottest directions is "cloud IDE". The so-called "cloud IDE" is the use of cloud computing resources as a development environment for software project development.'),(0,r.kt)("p",null,"This development model has many benefits for developers, such as:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Compute resources are available on demand, so that development efficiency is not affected by hardware limitations."),(0,r.kt)("li",{parentName:"ul"},"Development environment standardization, each project's development environment may have many software dependencies, these dependencies can be standardized in the form of Docker images."),(0,r.kt)("li",{parentName:"ul"},"Quickly start or destroy a development environment for each project to avoid problems such as dependency conflicts when multiple projects are developed in parallel."),(0,r.kt)("li",{parentName:"ul"},"For pure Linux environments, it is sometimes more difficult for server-side development students to toss some dependency differences between MacOS and Windows than to develop project code.")),(0,r.kt)("p",null,'The two most popular IDEs are JetBrains and VSCode, and both of these popular development tools have cloud-based products, so it\'s clear that the "cloud IDE" direction is favored by many developers.'),(0,r.kt)("p",null,"Apache APISIX is a dynamic, real-time, high-performance API gateway that provides rich traffic management features such as load balancing, dynamic upstream, canary release, circuit breaking, authentication, observability, and more."),(0,r.kt)("p",null,"Apache APISIX, as an open source cloud native API gateway, how to quickly deploy the development environment is more important for developers. This article will introduce an open source cloud IDE product - ",(0,r.kt)("a",{parentName:"p",href:"https://gitpod.io/"},"Gitpod"),", and demonstrate how to use Gitpod to develop Apache APISIX."),(0,r.kt)("h2",{id:"install-the-gitpod-chrome-plugin"},"Install the Gitpod Chrome Plugin"),(0,r.kt)("p",null,"Gitpod provides one-click launch capabilities for the three main code hosting services GitLab, GitHub, and Bitbucket, and only requires the ",(0,r.kt)("a",{parentName:"p",href:"https://chrome.google.com/webstore/detail/gitpod-always-ready-to-co/dodmmooeoklaejobgleioelladacbeki"},"Chrome plugin")," to be installed for subsequent use."),(0,r.kt)("p",null,"Once installed, the plugin injects a launch button on the code repository page, here we'll use GitHub as an example. After installing the plugin, open the APISIX project address and you will see the relevant button."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://static.apiseven.com/202108/1646233179407-391328ba-68cd-41df-8454-3c7d280bbc6e.png",alt:"error/github example.png"})),(0,r.kt)("p",null,"Clicking the button will redirect you to the Gitpod page. After completing the GitHub application authorization, you will be taken to the following screen."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://static.apiseven.com/202108/1646233426671-547eb71c-9294-43af-b144-ea3298343341.png",alt:"erro/gitpod UI.png"})),(0,r.kt)("p",null,"Does it look very familiar? Yes, this is VSCode, the most popular code editor."),(0,r.kt)("p",null,"Gitpod maintains a branch of VSCode to implement an architecture that separates the VSCode client from the server. As a VSCode that grows on the cloud, it functions the same as the desktop version. The same plugins we use for local development can be used on the cloud, but unlike local, VSCode on the cloud has server-level computing resources and a network environment."),(0,r.kt)("h2",{id:"set-up-an-apisix-development-environment-with-gitpod"},"Set Up an APISIX Development Environment with Gitpod"),(0,r.kt)("h3",{id:"step-1-execute-test-cases"},"Step 1: Execute Test Cases"),(0,r.kt)("p",null,"I'm sure many students who are new to open source have struggled with how to build a development environment for open source projects. One of the major differences between open source projects and enterprise development is that open source projects often have a large number of test cases that are automated to ensure the quality of the project, so running these test cases locally is probably the first problem we encounter."),(0,r.kt)("p",null,"Let's try running the APISIX test cases in Gitpod. Here's how to configure the dependencies in the APISIX repository using ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/blob/master/.github/workflows/build.yml"},"github workflow"),". Run the following steps in the Gitpod terminal."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Shell"},"# Start the components that CI depends on\nmake ci-env-up project_compose_ci=ci/pod/docker-compose.common.yml\n\n# Install compilation dependency\nsudo apt install -y cpanminus build-essential libncurses5-dev libreadline-dev libssl-dev perl libpcre3 libpcre3-dev libldap2-dev\n\n# Compile and execute test cases\nsudo OPENRESTY_VERSION=default ./ci/linux_openresty_1_17_runner.sh do_install\nsudo ./ci/linux_openresty_1_17_runner.sh script\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"If you get the following error:"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre"},"OPENRESTY_VERSION=default ./ci/linux_openresty_1_19_runner.sh do_install\nbash: ./ci/linux_openresty_1_19_runner.sh: No such file or directory\n")),(0,r.kt)("p",{parentName:"div"},"Please see the ",(0,r.kt)("inlineCode",{parentName:"p"},"linux_openresty_1_19_runner.sh")," script corresponding to the latest version of APISIX in the ",(0,r.kt)("inlineCode",{parentName:"p"},"ci")," directory."))),(0,r.kt)("h3",{id:"step-2-accessing-http-services"},"Step 2: Accessing HTTP services"),(0,r.kt)("p",null,"So how do we access the HTTP services (e.g. APISIX) started in the project?"),(0,r.kt)("p",null,"Naturally, it is possible to access it through the terminal. But if you want to access it through the page, you can also expose the open port to the public network through Remote Explorer, as shown in the following figure."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://static.apiseven.com/202108/1646234288822-b7e30fce-604f-451a-b87f-3b72309b246a.png",alt:"error/access page example.png"})),(0,r.kt)("p",null,"Then, by clicking on the browser icon next to the port, Gitpod will automatically open a link to the service corresponding to that port."),(0,r.kt)("h2",{id:"faq-summary"},"FAQ Summary"),(0,r.kt)("h3",{id:"browser-based-experience"},"Browser-Based Experience"),(0,r.kt)("p",null,"One of the major problems with using Gitpod in the browser is that many VSCode shortcuts are captured by the browser, making it impossible to perform the corresponding action."),(0,r.kt)("p",null,"Here's how to do it."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Install the Gitpod plugin in VSCode's Plugin Marketplace.")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://static.apiseven.com/202108/1646234524665-0e860b0b-ec80-4ba9-a893-cfa79d3f48c3.png",alt:"error/install gitpod plugin.png"})),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Then click ",(0,r.kt)("inlineCode",{parentName:"li"},"Gitpod: Open in VS Code")," on the Gitpod page in your browser. You can then pull up your local VSCode as a client and connect to the Gitpod in the cloud to get the same coding experience as the desktop version.")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://static.apiseven.com/202108/1646234630208-bc8912a8-9542-4888-9cde-8889631d2ea8.png",alt:"error/open in vs code.png"})),(0,r.kt)("h3",{id:"private-deployment"},"Private Deployment"),(0,r.kt)("p",null,"As we mentioned earlier, Gitpod is an open source product, so it is possible to deploy it privately within your organization, so that you can use this great development tool in your private repository. For more information on how to deploy Gitpod, see the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/gitpod-io/gitpod"},"official Gitpod documentation and repository"),"."),(0,r.kt)("h2",{id:"summary"},"Summary"),(0,r.kt)("p",null,"The beauty of Gitpod is that it allows developers to get started with a project quickly, which is very much in line with the needs of the open source community. Because open source projects can often feel like a mystery to developers who are new to open source, it can be a deterrent, but you'll find that it's not."),(0,r.kt)("p",null,"I hope that through the introduction and description of this article, every developer interested in open source projects with the help of open source tools can more easily join the open source community, so that the open source ecosystem continues to prosper."))}d.isMDXComponent=!0}}]);