"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[72447],{35318:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>u});var n=a(27378);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=p(a),u=r,m=c["".concat(l,".").concat(u)]||c[u]||h[u]||i;return a?n.createElement(m,o(o({ref:t},d),{},{components:a})):n.createElement(m,o({ref:t},d))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},61029:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var n=a(25773),r=(a(27378),a(35318));const i={title:"Release Apache APISIX 3.13.0",authors:[{name:"Ashish Tiwari",title:"Author",url:"https://github.com/Revolyssup",image_url:"https://github.com/Revolyssup.png"},{name:"Traky Deng",title:"Technical Writer",url:"https://github.com/kayx23",image_url:"https://github.com/kayx23.png"}],keywords:["Apache APISIX","API Gateway","API Management Platform","New Release","Cloud Native"],description:"The Apache APISIX 3.13.0 version is released on June 27, 2025. This release includes a few changes, new features, bug fixes, and other improvements to user experiences.",tags:["Community"]},o=void 0,s={permalink:"/blog/2025/06/27/release-apache-apisix-3.13.0",source:"@site/blog/2025/06/27/release-apache-apisix-3.13.0.md",title:"Release Apache APISIX 3.13.0",description:"The Apache APISIX 3.13.0 version is released on June 27, 2025. This release includes a few changes, new features, bug fixes, and other improvements to user experiences.",date:"2025-06-27T00:00:00.000Z",formattedDate:"June 27, 2025",tags:[{label:"Community",permalink:"/blog/tags/community"}],readingTime:4.795,truncated:!0,authors:[{name:"Ashish Tiwari",title:"Author",url:"https://github.com/Revolyssup",image_url:"https://github.com/Revolyssup.png",imageURL:"https://github.com/Revolyssup.png"},{name:"Traky Deng",title:"Technical Writer",url:"https://github.com/kayx23",image_url:"https://github.com/kayx23.png",imageURL:"https://github.com/kayx23.png"}],prevItem:{title:"2025 Monthly Report (June 01 - June 30)",permalink:"/blog/2025/06/30/2025-june-monthly-report"},nextItem:{title:"AI Gateways: The Future Trend of AI Infrastructure",permalink:"/blog/2025/06/18/ai-gateway-future-trend-of-ai-infrastructure"}},l={authorsImageUrls:[void 0,void 0]},p=[{value:"Deprecations",id:"deprecations",children:[{value:"Mark the <code>server-info</code> plugin as deprecated",id:"mark-the-server-info-plugin-as-deprecated",children:[],level:3},{value:"Warn on etcd write operations in decoupled <code>data_plane</code> mode",id:"warn-on-etcd-write-operations-in-decoupled-data_plane-mode",children:[],level:3}],level:2},{value:"New Features",id:"new-features",children:[{value:"Add standalone Admin API",id:"add-standalone-admin-api",children:[],level:3},{value:"Support health check for L4 proxy",id:"support-health-check-for-l4-proxy",children:[],level:3},{value:"Add status health check endpoint",id:"add-status-health-check-endpoint",children:[],level:3},{value:"Add <code>mcp-bridge</code> plugin",id:"add-mcp-bridge-plugin",children:[],level:3},{value:"Add <code>lago</code> plugin",id:"add-lago-plugin",children:[],level:3},{value:"Add <code>headers</code> attribute to the <code>loki-logger</code> plugin",id:"add-headers-attribute-to-the-loki-logger-plugin",children:[],level:3},{value:"Add metadata fields to core resource schemas",id:"add-metadata-fields-to-core-resource-schemas",children:[],level:3},{value:"Add <code>max_pending_entries</code> attribute to batch processor",id:"add-max_pending_entries-attribute-to-batch-processor",children:[],level:3},{value:"Enhance Admin API filtering",id:"enhance-admin-api-filtering",children:[],level:3},{value:"Expose APISIX version in Prometheus <code>node_info</code> metric",id:"expose-apisix-version-in-prometheus-node_info-metric",children:[],level:3},{value:"Support dash (-) in consumer usernames",id:"support-dash---in-consumer-usernames",children:[],level:3}],level:2},{value:"Dependencies",id:"dependencies",children:[],level:2},{value:"Other Updates",id:"other-updates",children:[],level:2},{value:"Changelog",id:"changelog",children:[],level:2}],d={toc:p};function h(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"We are glad to present Apache APISIX 3.13.0 with exciting new features, bug fixes, and other improvements to user experiences."),(0,r.kt)("p",null,"This release introduces a number of new features, including the ",(0,r.kt)("inlineCode",{parentName:"p"},"mcp-bridge")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"lago")," plugins, the standalone Admin API, status health check endpoint, L4 proxy health check, and more."),(0,r.kt)("p",null,"While there are no breaking changes, a few features have been marked for deprecation for future releases. Please review the deprecation notes to stay informed about future changes."),(0,r.kt)("h2",{id:"deprecations"},"Deprecations"),(0,r.kt)("h3",{id:"mark-the-server-info-plugin-as-deprecated"},"Mark the ",(0,r.kt)("inlineCode",{parentName:"h3"},"server-info")," plugin as deprecated"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"server-info")," plugin is now marked for deprecation and will be removed in a future release. It periodically writes server info to etcd, which can cause performance issues in large clusters due to excessive etcd writes during startup."),(0,r.kt)("p",null,"For more information, see the ",(0,r.kt)("a",{parentName:"p",href:"https://lists.apache.org/thread/nrwqo1gbc0z4z48fkb8dd4rn0trnfnz9"},"mailing list proposal")," and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12244"},"PR #12244"),"."),(0,r.kt)("h3",{id:"warn-on-etcd-write-operations-in-decoupled-data_plane-mode"},"Warn on etcd write operations in decoupled ",(0,r.kt)("inlineCode",{parentName:"h3"},"data_plane")," mode"),(0,r.kt)("p",null,"When APISIX is running in the decoupled mode as the data plane instance, it now logs warnings if the data plane instance performs etcd write operations via core.etcd functions or the CLI. Writes will be deprecated in future releases, where such operations will be disallowed."),(0,r.kt)("p",null,"For more information, see the ",(0,r.kt)("a",{parentName:"p",href:"https://lists.apache.org/thread/gfsooqm4cz6cx2sh7htmqgwlml5kggm2"},"mailing list proposal")," outlining the future enforcement plan and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12241"},"PR #12241")," for change in this release."),(0,r.kt)("h2",{id:"new-features"},"New Features"),(0,r.kt)("h3",{id:"add-standalone-admin-api"},"Add standalone Admin API"),(0,r.kt)("p",null,"This release introduces a new Admin API for standalone mode, allowing users to manage in-memory configurations via HTTP PUT (to update) and GET (to retrieve). Configurations can be submitted in JSON or YAML, validated, and broadcast to all workers within the same APISIX instance\u2014making the mode fully stateless. This feature improves support for use cases such as the Ingress Controller."),(0,r.kt)("p",null,"For more information, see relevant PRs ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12179"},"#12179"),", ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12214"},"#12214"),", ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12256"},"#12256"),", ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12295"},"#12295"),", ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12317"},"#12317"),", and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12333"},"#12333"),"."),(0,r.kt)("h3",{id:"support-health-check-for-l4-proxy"},"Support health check for L4 proxy"),(0,r.kt)("p",null,"APISIX now supports upstream health checks when operating as an L4 proxy, enabling improved reliability and automatic failover for TCP/UDP traffic."),(0,r.kt)("p",null,"For more information, see PR ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12180"},"#12180"),"."),(0,r.kt)("h3",{id:"add-status-health-check-endpoint"},"Add status health check endpoint"),(0,r.kt)("p",null,"This release introduces a health check endpoint that indicates when APISIX is ready to serve traffic. In standalone mode, it reports readiness after configuration is loaded from external clients (e.g., Ingress Controller). When using etcd, the endpoint remains unhealthy until all workers have completed the initial configuration load. This helps external systems perform accurate readiness checks."),(0,r.kt)("p",null,"For more information, see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12200"},"#12200"),"."),(0,r.kt)("h3",{id:"add-mcp-bridge-plugin"},"Add ",(0,r.kt)("inlineCode",{parentName:"h3"},"mcp-bridge")," plugin"),(0,r.kt)("p",null,"This release introduces the ",(0,r.kt)("inlineCode",{parentName:"p"},"mcp-bridge")," plugin, which converts stdio-based MCP servers to HTTP SSE-based interfaces, with support for subprocess management and prototype session handling across NGINX workers. To support broader use cases, the MCP server has been refactored into a standalone module, replacing the original mcp-bridge implementation with a more flexible framework while preserving backward compatibility through existing tests."),(0,r.kt)("p",null,"For more information, see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12168"},"#12168")," and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12151"},"#12151"),"."),(0,r.kt)("h3",{id:"add-lago-plugin"},"Add ",(0,r.kt)("inlineCode",{parentName:"h3"},"lago")," plugin"),(0,r.kt)("p",null,"This release introduces the lago plugin, enabling integration with Lago for API monetization. The plugin logs API calls and charges consumers based on configured billing metrics and subscriptions. It supports flexible use cases such as token-based billing for AI services or per-call billing for APIs, and allows multiple routes to be linked to different pricing models for pay-as-you-go scenarios."),(0,r.kt)("p",null,"For more information, see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12196"},"#12196"),"."),(0,r.kt)("h3",{id:"add-headers-attribute-to-the-loki-logger-plugin"},"Add ",(0,r.kt)("inlineCode",{parentName:"h3"},"headers")," attribute to the ",(0,r.kt)("inlineCode",{parentName:"h3"},"loki-logger")," plugin"),(0,r.kt)("p",null,"This release adds a ",(0,r.kt)("inlineCode",{parentName:"p"},"headers")," attribute to the ",(0,r.kt)("inlineCode",{parentName:"p"},"loki-logger")," plugin. This allows, for example, setting an authorization header when sending logs to a remote Loki service."),(0,r.kt)("p",null,"For more information, see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12243"},"#12243"),"."),(0,r.kt)("h3",{id:"add-metadata-fields-to-core-resource-schemas"},"Add metadata fields to core resource schemas"),(0,r.kt)("p",null,"This release adds standardized metadata for core resources, including name, description, and labels. The addition improves resource consistency and addresses issues in downstream projects."),(0,r.kt)("p",null,"For more information, see PR ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12224"},"#12224"),"."),(0,r.kt)("h3",{id:"add-max_pending_entries-attribute-to-batch-processor"},"Add ",(0,r.kt)("inlineCode",{parentName:"h3"},"max_pending_entries")," attribute to batch processor"),(0,r.kt)("p",null,"This release introduces a new ",(0,r.kt)("inlineCode",{parentName:"p"},"max_pending_entries")," option to the batch processor to prevent memory spikes when the log server is slow or unresponsive. This option allows dropping new entries if too many pending callbacks are waiting to be processed."),(0,r.kt)("p",null,"For more information, see PR ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12338"},"#12338"),"."),(0,r.kt)("h3",{id:"enhance-admin-api-filtering"},"Enhance Admin API filtering"),(0,r.kt)("p",null,"The Admin API now supports filtering routes and stream routes by ",(0,r.kt)("inlineCode",{parentName:"p"},"service_id")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"upstream_id"),", making it easier to query and manage related resources, especially for the APISIX Dashboard project."),(0,r.kt)("p",null,"For more information, see PR ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12291"},"#12291"),"."),(0,r.kt)("h3",{id:"expose-apisix-version-in-prometheus-node_info-metric"},"Expose APISIX version in Prometheus ",(0,r.kt)("inlineCode",{parentName:"h3"},"node_info")," metric"),(0,r.kt)("p",null,"This release enhances the Prometheus ",(0,r.kt)("inlineCode",{parentName:"p"},"node_info")," metric by adding a version label to expose the current APISIX version, improving observability and version tracking."),(0,r.kt)("p",null,"For more information, see PR ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12367"},"#12367"),"."),(0,r.kt)("h3",{id:"support-dash---in-consumer-usernames"},"Support dash (-) in consumer usernames"),(0,r.kt)("p",null,"This release allows the use of dashes (-) in consumer usernames. This is useful for scenarios such as namespacing in Kubernetes, where consumer names like namespace-username are needed for resource isolation."),(0,r.kt)("p",null,"For more information, see PR ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/pull/12296"},"#12296"),"."),(0,r.kt)("h2",{id:"dependencies"},"Dependencies"),(0,r.kt)("p",null,"Upgraded core dependencies for improved stability, compatibility, and to address known issues:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Bumped OpenResty to v1.27.1.2 (PR ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/apisix/pull/12307"},"#12307"),")"),(0,r.kt)("li",{parentName:"ul"},"Bumped LuaRocks to v3.12.0 (PR ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/apisix/pull/12305"},"#12305"),")")),(0,r.kt)("h2",{id:"other-updates"},"Other Updates"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Compare service discovery nodes by address to improve performance (PR ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/apisix/pull/12258"},"#12258"),")"),(0,r.kt)("li",{parentName:"ul"},"Change log level to ",(0,r.kt)("inlineCode",{parentName:"li"},"debug")," to reduce unnecessary logs (PR ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/apisix/pull/12361"},"#12361"),")"),(0,r.kt)("li",{parentName:"ul"},"Adjust log level from ",(0,r.kt)("inlineCode",{parentName:"li"},"warn")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"info")," when removing stale batch processors (PR ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/apisix/pull/12297"},"#12297"),")"),(0,r.kt)("li",{parentName:"ul"},"Refactor ",(0,r.kt)("inlineCode",{parentName:"li"},"ai-proxy")," plugin to move ",(0,r.kt)("inlineCode",{parentName:"li"},"read_response")," into the ",(0,r.kt)("inlineCode",{parentName:"li"},"ai_driver.request")," function (PR ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/apisix/pull/12101"},"#12101"),")"),(0,r.kt)("li",{parentName:"ul"},"Prevent stale health checker from running when the number of new nodes is less than or equal to one (PR ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/apisix/pull/12118"},"#12118"),")"),(0,r.kt)("li",{parentName:"ul"},"Release health checker when there are zero nodes (PR ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/apisix/pull/12126"},"#12126"),")"),(0,r.kt)("li",{parentName:"ul"},"Parse and validate ",(0,r.kt)("inlineCode",{parentName:"li"},"apisix.yaml")," in the CLI only during startup (PR ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/apisix/pull/12216"},"#12216"),")"),(0,r.kt)("li",{parentName:"ul"},"Restrict TLSv1.3 cross-SNI session resumption (PR ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/apisix/pull/12366"},"#12366"),")"),(0,r.kt)("li",{parentName:"ul"},"Fix data dump issue in Kubernetes service discovery single mode (PR ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/apisix/pull/12284"},"#12284"),")"),(0,r.kt)("li",{parentName:"ul"},"Handle ",(0,r.kt)("inlineCode",{parentName:"li"},"nil")," port cases in Consul by defaulting to port 80 (PR ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/apisix/pull/12304"},"#12304"),")")),(0,r.kt)("h2",{id:"changelog"},"Changelog"),(0,r.kt)("p",null,"For a complete list of changes in this release, please see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/blob/master/CHANGELOG.md#3130"},"CHANGELOG"),"."))}h.isMDXComponent=!0}}]);