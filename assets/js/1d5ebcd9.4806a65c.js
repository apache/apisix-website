"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[60278],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=r.createContext({}),s=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=s(a),m=n,g=c["".concat(p,".").concat(m)]||c[m]||u[m]||l;return a?r.createElement(g,i(i({ref:t},d),{},{components:a})):r.createElement(g,i({ref:t},d))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,i=new Array(l);i[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:n,i[1]=o;for(var s=2;s<l;s++)i[s]=a[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},72022:(e,t,a)=>{a.r(t),a.d(t,{contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var r=a(87462),n=(a(67294),a(3905));const l={title:"Gateway API",keywords:["APISIX Ingress","Apache APISIX","Kubernetes Ingress","Gateway API"]},i=void 0,o={unversionedId:"concepts/gateway-api",id:"version-2.0.0/concepts/gateway-api",isDocsHomePage:!1,title:"Gateway API",description:"Gateway API is dedicated to achieving expressive and scalable Kubernetes service networking through various custom resources.",source:"@site/docs-apisix-ingress-controller_versioned_docs/version-2.0.0/concepts/gateway-api.md",sourceDirName:"concepts",slug:"/concepts/gateway-api",permalink:"/docs/ingress-controller/concepts/gateway-api",editUrl:"/edit#https://github.com/apache/apisix-ingress-controller/edit/v2.0.0/docs/en/latest/concepts/gateway-api.md",tags:[],version:"2.0.0",frontMatter:{title:"Gateway API",keywords:["APISIX Ingress","Apache APISIX","Kubernetes Ingress","Gateway API"]},sidebar:"version-2.0.0/docs",previous:{title:"APISIX Ingress Controller Resources",permalink:"/docs/ingress-controller/concepts/resources"},next:{title:"Deployment Architecture",permalink:"/docs/ingress-controller/concepts/deployment-architecture"}},p=[{value:"Concepts",id:"concepts",children:[]},{value:"Gateway API Support Level",id:"gateway-api-support-level",children:[]},{value:"Examples",id:"examples",children:[]},{value:"Unsupported / Partially Supported Fields",id:"unsupported--partially-supported-fields",children:[{value:"HTTPRoute",id:"httproute",children:[]},{value:"Gateway",id:"gateway",children:[]}]}],s={toc:p};function d(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Gateway API is dedicated to achieving expressive and scalable Kubernetes service networking through various custom resources."),(0,n.kt)("p",null,"By supporting Gateway API, the APISIX Ingress controller can realize richer functions, including Gateway management, multi-cluster support, and other features. It is also possible to manage running instances of the APISIX gateway through Gateway API resource management."),(0,n.kt)("h2",{id:"concepts"},"Concepts"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"GatewayClass"),": Defines a class of Gateways with a shared configuration and behavior. Each GatewayClass is managed by a single controller, although a controller may support multiple GatewayClasses."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Gateway"),": Represents a request for network traffic handling within the cluster. A Gateway specifies how traffic enters the cluster and is directed to backend Services, typically by binding to one or more listeners."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"HTTPRoute"),": Configures routing for HTTP traffic."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"GRPCRoute"),": Configures routing for gRPC traffic."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"ReferenceGrant"),": Grants permission to reference resources across namespaces."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"TLSRoute"),": Defines routing rules for terminating or passing through TLS traffic."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"TCPRoute"),": Configures routing for TCP traffic."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"UDPRoute"),": Configures routing for UDP traffic."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"BackendTLSPolicy"),": Specifies how a Gateway should validate TLS connections to its backends, including trusted certificate authorities and verification modes.")),(0,n.kt)("h2",{id:"gateway-api-support-level"},"Gateway API Support Level"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Resource"),(0,n.kt)("th",{parentName:"tr",align:null},"Core Support Level"),(0,n.kt)("th",{parentName:"tr",align:null},"Extended Support Level"),(0,n.kt)("th",{parentName:"tr",align:null},"Implementation-Specific Support Level"),(0,n.kt)("th",{parentName:"tr",align:null},"API Version"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"GatewayClass"),(0,n.kt)("td",{parentName:"tr",align:null},"Supported"),(0,n.kt)("td",{parentName:"tr",align:null},"N/A"),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"v1")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Gateway"),(0,n.kt)("td",{parentName:"tr",align:null},"Partially supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Partially supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"v1")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"HTTPRoute"),(0,n.kt)("td",{parentName:"tr",align:null},"Supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Partially supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"v1")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"GRPCRoute"),(0,n.kt)("td",{parentName:"tr",align:null},"Supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"v1")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"ReferenceGrant"),(0,n.kt)("td",{parentName:"tr",align:null},"Supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"v1beta1")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"TLSRoute"),(0,n.kt)("td",{parentName:"tr",align:null},"Supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"v1alpha2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"TCPRoute"),(0,n.kt)("td",{parentName:"tr",align:null},"Supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"v1alpha2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"UDPRoute"),(0,n.kt)("td",{parentName:"tr",align:null},"Supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"v1alpha2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"BackendTLSPolicy"),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"v1alpha3")))),(0,n.kt)("h2",{id:"examples"},"Examples"),(0,n.kt)("p",null,"For configuration examples, see the Gateway API tabs in ",(0,n.kt)("a",{parentName:"p",href:"/docs/ingress-controller/reference/apisix-ingress-controller/examples"},"Configuration Examples"),"."),(0,n.kt)("p",null,"For a complete list of configuration options, refer to the ",(0,n.kt)("a",{parentName:"p",href:"https://gateway-api.sigs.k8s.io/reference/spec/"},"Gateway API Reference"),". Be aware that some fields are not supported, or partially supported."),(0,n.kt)("h2",{id:"unsupported--partially-supported-fields"},"Unsupported / Partially Supported Fields"),(0,n.kt)("p",null,"The fields below are specified in the Gateway API specification but are either partially implemented or not yet supported in the APISIX Ingress Controller."),(0,n.kt)("h3",{id:"httproute"},"HTTPRoute"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Fields"),(0,n.kt)("th",{parentName:"tr",align:null},"Status"),(0,n.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"spec.timeouts")),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"The field is unsupported because ADC provides finer-grained timeout configuration (connect, read, write), whereas ",(0,n.kt)("inlineCode",{parentName:"td"},"spec.timeouts")," only allows a general total timeout and upstream timeout, so it cannot be directly mapped. To configure route timeouts, you can use ",(0,n.kt)("a",{parentName:"td",href:"/docs/ingress-controller/reference/apisix-ingress-controller/api-reference#backendtrafficpolicyspec"},"BackendTrafficPolicy"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"spec.retries")),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"The field is unsupported because APISIX does not support the features in retries. To configure route retries, you can use ",(0,n.kt)("a",{parentName:"td",href:"/docs/ingress-controller/reference/apisix-ingress-controller/api-reference#backendtrafficpolicyspec"},"BackendTrafficPolicy"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"spec.sessionPersistence")),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"APISIX does not support the configuration of cookie lifetimes. As an alternative, you can use ",(0,n.kt)("a",{parentName:"td",href:"/docs/ingress-controller/reference/apisix-ingress-controller/api-reference#loadbalancer"},(0,n.kt)("inlineCode",{parentName:"a"},"chash")," load balancer"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"spec.rules[].backendRefs[].filters[]")),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"BackendRef-level filters are not implemented as data plane does not support filtering at this level; only rule-level filters (",(0,n.kt)("inlineCode",{parentName:"td"},"spec.rules[].filters[]"),") are supported.")))),(0,n.kt)("h3",{id:"gateway"},"Gateway"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Fields"),(0,n.kt)("th",{parentName:"tr",align:null},"Status"),(0,n.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"spec.listeners[].port")),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported*"),(0,n.kt)("td",{parentName:"tr",align:null},"The configuration is required but ignored. This is due to limitations in the data plane: it cannot dynamically open new ports. Since the Ingress Controller does not manage the data plane deployment, it cannot automatically update the configuration or restart the data plane to apply port changes.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"spec.listeners[].allowedRoutes.kinds")),(0,n.kt)("td",{parentName:"tr",align:null},"Partially supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Only ",(0,n.kt)("inlineCode",{parentName:"td"},"HTTPRoute")," (group ",(0,n.kt)("inlineCode",{parentName:"td"},"gateway.networking.k8s.io"),") is accepted; other kinds are rejected.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"spec.listeners[].tls.certificateRefs[].group")),(0,n.kt)("td",{parentName:"tr",align:null},"Partially supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Only ",(0,n.kt)("inlineCode",{parentName:"td"},'""')," is supported; other group values cause validation failure.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"spec.listeners[].tls.certificateRefs[].kind")),(0,n.kt)("td",{parentName:"tr",align:null},"Partially supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Only ",(0,n.kt)("inlineCode",{parentName:"td"},"Secret")," is supported.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"spec.listeners[].tls.mode")),(0,n.kt)("td",{parentName:"tr",align:null},"Partially supported"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"Terminate")," is implemented; ",(0,n.kt)("inlineCode",{parentName:"td"},"Passthrough")," is effectively unsupported for Gateway listeners.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"spec.addresses")),(0,n.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,n.kt)("td",{parentName:"tr",align:null},"Controller does not read or act on ",(0,n.kt)("inlineCode",{parentName:"td"},"spec.addresses"),".")))))}d.isMDXComponent=!0}}]);