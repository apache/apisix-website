"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[39737],{35318:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(27378);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),h=r,b=d["".concat(s,".").concat(h)]||d[h]||u[h]||i;return n?a.createElement(b,o(o({ref:t},p),{},{components:n})):a.createElement(b,o({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},89205:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var a=n(25773),r=(n(27378),n(35318));const i={title:"APISIX Dashboard Access Control Bypass Vulnerability Advisory (CVE-2021-33190)",slug:"2021/06/17/apache-apisix-dashboard-access-control-bypass-vulnerability-announcement",author:"Zhiyuan Ju",authorURL:"https://github.com/juzhiyuan",authorImageURL:"https://avatars.githubusercontent.com/u/2106987?v=4",keywords:["APISIX","Apache APISIX","Ingress Controller"],description:"Cloud native API gateway Apache APISIX Dashboard Access Control bypass vulnerability announcement, please upgrade the version as soon as possible to fix this vulnerability.",tags:["Vulnerabilities"],image:"https://static.apiseven.com/2022/blog/0818/cve/CVE-2021-33190.png"},o=void 0,l={permalink:"/blog/2021/06/17/apache-apisix-dashboard-access-control-bypass-vulnerability-announcement",source:"@site/blog/2021/06/17/Apache-APISIX-Dashboard-Access-Control-Bypass-Vulnerability-Announcement.md",title:"APISIX Dashboard Access Control Bypass Vulnerability Advisory (CVE-2021-33190)",description:"Cloud native API gateway Apache APISIX Dashboard Access Control bypass vulnerability announcement, please upgrade the version as soon as possible to fix this vulnerability.",date:"2021-06-17T00:00:00.000Z",formattedDate:"June 17, 2021",tags:[{label:"Vulnerabilities",permalink:"/blog/tags/vulnerabilities"}],readingTime:1.255,truncated:!0,authors:[{name:"Zhiyuan Ju",url:"https://github.com/juzhiyuan",imageURL:"https://avatars.githubusercontent.com/u/2106987?v=4"}],prevItem:{title:"APISIX Ingress Controller 1.0 Release",permalink:"/blog/2021/06/18/first-ga-version-v1.0-of-apache-apisix-ingress-controller-released"},nextItem:{title:"Chaos Mesh Helps Apache APISIX Improve Stability",permalink:"/blog/2021/06/16/chaos-mesh-helps-apache-apisix-improve-stability"}},s={authorsImageUrls:[void 0]},c=[{value:"Problem Description",id:"problem-description",children:[],level:2},{value:"Affected Versions",id:"affected-versions",children:[],level:2},{value:"Solution",id:"solution",children:[],level:2},{value:"Vulnerability details",id:"vulnerability-details",children:[],level:2},{value:"Contributor Profile",id:"contributor-profile",children:[],level:2},{value:"Expanded Reading",id:"expanded-reading",children:[],level:2}],p={toc:c};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Because the application makes access control determinations by obtaining the value of the request header ",(0,r.kt)("inlineCode",{parentName:"p"},"X-Forwarded-For"),", an attacker can achieve an access control bypass attack by simply tampering with that request header when invoking the API request.")),(0,r.kt)("h2",{id:"problem-description"},"Problem Description"),(0,r.kt)("p",null,"In Apache APISIX Dashboard 2.6, there are two configuration entries."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"the ",(0,r.kt)("inlineCode",{parentName:"p"},"conf.listen.host")," configuration item, which specifies which IP address ManagerAPI listens to at startup, and which defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"0.0.0.0")," (listens to external network requests by default).")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"the configuration item ",(0,r.kt)("inlineCode",{parentName:"p"},"conf.allow_list"),", which is used for access control and only allows access to ",(0,r.kt)("inlineCode",{parentName:"p"},"127.0.0.1")," (i.e. local network) by default."))),(0,r.kt)("p",null,"Since the program makes access control determinations by obtaining the value of the request header ",(0,r.kt)("inlineCode",{parentName:"p"},"X-Forwarded-For"),", an attacker can achieve an access control bypass attack by simply tampering with this request header when invoking an API request."),(0,r.kt)("h2",{id:"affected-versions"},"Affected Versions"),(0,r.kt)("p",null,"Apache APISIX 2.6.0"),(0,r.kt)("h2",{id:"solution"},"Solution"),(0,r.kt)("p",null,"This issue has been resolved in version 2.6.1. Please update to the latest version as soon as possible and change the default username and password after deploying the application."),(0,r.kt)("h2",{id:"vulnerability-details"},"Vulnerability details"),(0,r.kt)("p",null,"Vulnerability public date: June 8, 2021"),(0,r.kt)("p",null,"CVE details: ",(0,r.kt)("a",{parentName:"p",href:"https://nvd.nist.gov/vuln/detail/CVE-2021-33190"},"https://nvd.nist.gov/vuln/detail/CVE-2021-33190")),(0,r.kt)("h2",{id:"contributor-profile"},"Contributor Profile"),(0,r.kt)("p",null,"This vulnerability was discovered by Vern at Ping An Technology Galaxy Security Lab and reported to the Apache Software Foundation. Thanks to Vern and Ping An Technology Galaxy Security Lab for their contributions to the Apache APISIX community."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://static.apiseven.com/202108/1639463130837-f27bf7bf-28b9-4742-a40f-ee43ebf5a7a8.jpeg",alt:"2021-06-17-1"})),(0,r.kt)("h2",{id:"expanded-reading"},"Expanded Reading"),(0,r.kt)("p",null,"[Apache APISIX Contributor Interview | Pengcheng Wang, Senior Security Consultant, PwC South China Data Security & Privacy Team]","(./2021-01-11-interview-Apache-APISIX-contributor-Wang-Pengcheng-Senior-Security-Advisor-of-PwC-South-China-Data-Security-and- Privacy-Protection-Team.md)"))}u.isMDXComponent=!0}}]);