<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="ahrefs-site-verification" content="c2f7370ecf46173f4fb25f114e74c97e0a2976d4f02f61c9b00a9d7d34e34698">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache APISIX¬Æ -- Cloud-Native API Gateway and AI Gateway RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache APISIX¬Æ -- Cloud-Native API Gateway and AI Gateway Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Apache APISIX¬Æ -- Cloud-Native API Gateway and AI Gateway" href="/opensearch.xml">
<script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"Apache APISIX","url":"https://apisix.apache.org"}</script>
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="24b59d9a-682e-4c3d-9e83-bf2ee85cdc19" data-project-name="APISIX" data-project-color="#E8442E" data-project-logo="https://static.apiseven.com/202202/apache-apisix.png" data-modal-disclaimer="This is a custom LLM for APISIX with access to all developer documentation, GitHub issues and discussions." data-modal-example-questions="How to set up canary release in APISIX?,How to develop a custom APISIX plugin?,How to use custom NGINX configuration in APISIX?,How to configure mTLS between clients and APISIX?,How to only allow a specific APISIX consumer to access special services or routes?" async></script><title data-react-helmet="true">APISIX Integrates with Google Cloud Logging | Apache APISIX¬Æ -- Cloud-Native API Gateway and AI Gateway</title><meta data-react-helmet="true" property="og:url" content="https://apisix.apache.org/blog/2021/12/22/google-logging/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><meta data-react-helmet="true" name="robots" content="index,follow"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="APISIX Integrates with Google Cloud Logging | Apache APISIX¬Æ -- Cloud-Native API Gateway and AI Gateway"><meta data-react-helmet="true" name="description" content="This article describes how to interface with the Google Cloud Logging service through the google-cloud-logging plugin of API Gateway Apache APISIX."><meta data-react-helmet="true" property="og:description" content="This article describes how to interface with the Google Cloud Logging service through the google-cloud-logging plugin of API Gateway Apache APISIX."><meta data-react-helmet="true" name="keywords" content="Apache APISIX,Google Cloud,Google Logging,APISIX,API Gateway"><meta data-react-helmet="true" property="og:image" content="https://static.apiseven.com/2022/blog/0818/plugins/Google-cloud.png"><meta data-react-helmet="true" name="twitter:image" content="https://static.apiseven.com/2022/blog/0818/plugins/Google-cloud.png"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-12-22T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/shuaijinchao,https://github.com/yzeng25"><meta data-react-helmet="true" property="article:tag" content="Plugins,Ecosystem"><link data-react-helmet="true" rel="shortcut icon" href="https://static.apiseven.com/202202/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://apisix.apache.org/blog/2021/12/22/google-logging/"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/blog/2021/12/22/google-logging/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/blog/2021/12/22/google-logging/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://38VC84A2WJ-dsn.algolia.net" crossorigin="anonymous"><link rel="preload" href="https://static.apiseven.com/202202/MaisonNeue-Medium.otf" as="font" type="font/otf" crossorigin>
<link rel="preload" href="https://static.apiseven.com/202202/MaisonNeue-Bold.otf" as="font" type="font/otf" crossorigin>
<link rel="preload" href="https://static.apiseven.com/202202/MaisonNeue-Light.otf" as="font" type="font/otf" crossorigin>
<link rel="preload" href="https://static.apiseven.com/202202/MaisonNeue-Demi.otf" as="font" type="font/otf" crossorigin>
<link rel="preload" href="https://static.apiseven.com/202202/MaisonNeue-ExtraBold.otf" as="font" type="font/otf" crossorigin>
<link rel="preload" href="https://apisix-website-static.apiseven.com/assets/js/runtime~main.4bbc9839.js" as="script">
<link rel="preload" href="https://apisix-website-static.apiseven.com/assets/js/main.a516b59b.js" as="script">
<link rel="stylesheet" href="https://apisix-website-static.apiseven.com/assets/css/styles.9943cb19.css">
<!-- Matomo from the ASF -->
<script>var _paq=window._paq=window._paq||[];_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var a="https://analytics.apache.org/";_paq.push(["setTrackerUrl",a+"matomo.php"]),_paq.push(["setSiteId","17"]);var e=document,p=e.createElement("script"),t=e.getElementsByTagName("script")[0];p.async=!0,p.src=a+"matomo.js",t.parentNode.insertBefore(p,t)}()</script>
<!-- End Matomo Code -->
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" style="background-color:#e8433e;color:white" role="banner"><div class="announcementBarPlaceholder_xYHE"></div><div class="announcementBarContent_6uhP">ü§î Introducing APISIX AI Gateway ‚Äì Built for LLMs and AI workloads. <a target="_blank" rel="noopener noreferrer" href="/ai-gateway/"> Learn More</a></div><button type="button" class="clean-btn close announcementBarClose_A3A1" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_RReh"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a target="_parent" class="navbar__brand" href="/"><img src="/img/logo2.svg" alt="Apache APISIX¬Æ" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo2.svg" alt="Apache APISIX¬Æ" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Apache APISIX¬Æ</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" target="_parent" href="/docs/">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" target="_parent" href="/docs/apisix/getting-started/">Apache APISIX¬ÆÔ∏è</a></li><li><a class="dropdown__link" target="_parent" href="/docs/apisix/next/dashboard/">Apache APISIX¬ÆÔ∏è Dashboard</a></li><li><a class="dropdown__link" target="_parent" href="/docs/ingress-controller/overview/">Apache APISIX¬ÆÔ∏è Ingress Controller</a></li><li><a class="dropdown__link" target="_parent" href="/docs/helm-chart/apisix/">Apache APISIX¬ÆÔ∏è Helm Charts</a></li><li><a class="dropdown__link" target="_parent" href="/docs/docker/build/">Apache APISIX¬ÆÔ∏è Docker</a></li><li><a class="dropdown__link" target="_parent" href="/docs/java-plugin-runner/development/">Apache APISIX¬ÆÔ∏è Java Plugin Runner</a></li><li><a class="dropdown__link" target="_parent" href="/docs/go-plugin-runner/getting-started/">Apache APISIX¬ÆÔ∏è Go Plugin Runner</a></li><li><a class="dropdown__link" target="_parent" href="/docs/python-plugin-runner/getting-started/">Apache APISIX¬ÆÔ∏è Python Plugin Runner</a></li><li><a class="dropdown__link" target="_parent" href="/docs/general/join/">General</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" target="_parent" href="/blog/">Blog</a><a class="navbar__item navbar__link" target="_parent" href="/blog/tags/case-studies/">Case Studies</a><a class="navbar__item navbar__link" target="_parent" href="/downloads/">Downloads</a><a class="navbar__item navbar__link" target="_parent" href="/help/">Help</a><a class="navbar__item navbar__link" target="_parent" href="/team/">Team</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" target="_parent" href="/showcase/">Showcase</a></li><li><a class="dropdown__link" target="_parent" href="/docs/general/code-samples/">Code Samples</a></li><li><a class="dropdown__link" target="_parent" href="/plugins/">PluginHub</a></li><li><a class="dropdown__link" target="_parent" href="/docs/general/join/">Community</a></li><li><a class="dropdown__link" target="_parent" href="/docs/general/events/">Events</a></li><li><a href="https://github.com/apache/apisix/milestones" target="_parent" rel="noopener noreferrer" class="dropdown__link">Roadmap</a></li></ul></div><a href="/zh/blog" target="_parent" rel="noopener noreferrer" class="localizedBlogLink_W2zh">‰∏≠ÊñáÂçöÂÆ¢</a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">üåú</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">üåû</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_SGhp"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="sticky-outer-wrapper placeholder_iq-X"><div class="sticky-inner-wrapper" style="position:relative;top:0px;z-index:199"><div class="tagsHeader_HGHP"><a target="_parent" href="/blog/tags/case-studies/">Case Studies</a><a target="_parent" href="/blog/tags/ecosystem/">Ecosystem</a><a target="_parent" href="/blog/tags/authentication/">Authentication</a><a target="_parent" href="/blog/tags/plugins/">Plugins</a><a target="_parent" href="/blog/tags/community/">Community</a><a target="_parent" href="/blog/tags/vulnerabilities/">Vulnerabilities</a></div></div></div><div class="container margin-vert--lg"><div class="row" style="justify-content:center"><div class="col col--9"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_d4p0" itemprop="headline">APISIX Integrates with Google Cloud Logging</h1><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-12-22T00:00:00.000Z" itemprop="datePublished">December 22, 2021</time> ¬∑ <!-- -->7 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_dGI0"><div class="avatar margin-bottom--sm"><a href="https://github.com/shuaijinchao" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_KCbV" src="https://avatars.githubusercontent.com/u/8529452?v=4" alt="Jinchao Shuai"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/shuaijinchao" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jinchao Shuai</span></a></div><small class="avatar__subtitle" itemprop="description">Author</small></div></div></div><div class="col col--6 authorCol_dGI0"><div class="avatar margin-bottom--sm"><a href="https://github.com/yzeng25" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_KCbV" src="https://avatars.githubusercontent.com/u/36651058?v=4" alt="Yilin Zeng"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/yzeng25" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Yilin Zeng</span></a></div><small class="avatar__subtitle" itemprop="description">Technical Writer</small></div></div></div></div></header><meta itemprop="image" content="https://static.apiseven.com/2022/blog/0818/plugins/Google-cloud.png"><div class="markdown" itemprop="articleBody"><section class="shareSection_OUzq"><div><button aria-label="linkedin" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="32" height="32"><circle cx="32" cy="32" r="31" fill="#007fb1"></circle><path d="M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z" fill="white"></path></svg></button><button aria-label="twitter" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="32" height="32"><circle cx="32" cy="32" r="31" fill="#00aced"></circle><path d="M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z" fill="white"></path></svg></button><button aria-label="reddit" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="32" height="32"><circle cx="32" cy="32" r="31" fill="#ff4500"></circle><path d="m 52.8165,31.942362 c 0,-2.4803 -2.0264,-4.4965 -4.5169,-4.4965 -1.2155,0 -2.3171,0.4862 -3.128,1.2682 -3.077,-2.0247 -7.2403,-3.3133 -11.8507,-3.4782 l 2.5211,-7.9373 6.8272,1.5997 -0.0102,0.0986 c 0,2.0281 1.6575,3.6771 3.6958,3.6771 2.0366,0 3.6924,-1.649 3.6924,-3.6771 0,-2.0281 -1.6575,-3.6788 -3.6924,-3.6788 -1.564,0 -2.8968,0.9758 -3.4357,2.3443 l -7.3593,-1.7255 c -0.3213,-0.0782 -0.6477,0.1071 -0.748,0.4233 L 32,25.212062 c -4.8246,0.0578 -9.1953,1.3566 -12.41,3.4425 -0.8058,-0.7446 -1.8751,-1.2104 -3.0583,-1.2104 -2.4905,0 -4.5152,2.0179 -4.5152,4.4982 0,1.649 0.9061,3.0787 2.2389,3.8607 -0.0884,0.4794 -0.1462,0.9639 -0.1462,1.4569 0,6.6487 8.1736,12.0581 18.2223,12.0581 10.0487,0 18.224,-5.4094 18.224,-12.0581 0,-0.4658 -0.0493,-0.9248 -0.1275,-1.377 1.4144,-0.7599 2.3885,-2.2304 2.3885,-3.9406 z m -29.2808,3.0872 c 0,-1.4756 1.207,-2.6775 2.6894,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 -1.4824,0 -2.6894,-1.2002 -2.6894,-2.6758 z m 15.4037,7.9373 c -1.3549,1.3481 -3.4816,2.0043 -6.5008,2.0043 l -0.0221,-0.0051 -0.0221,0.0051 c -3.0209,0 -5.1476,-0.6562 -6.5008,-2.0043 -0.2465,-0.2448 -0.2465,-0.6443 0,-0.8891 0.2465,-0.2465 0.6477,-0.2465 0.8942,0 1.105,1.0999 2.9393,1.6337 5.6066,1.6337 l 0.0221,0.0051 0.0221,-0.0051 c 2.6673,0 4.5016,-0.5355 5.6066,-1.6354 0.2465,-0.2465 0.6477,-0.2448 0.8942,0 0.2465,0.2465 0.2465,0.6443 0,0.8908 z m -0.3213,-5.2615 c -1.4824,0 -2.6877,-1.2002 -2.6877,-2.6758 0,-1.4756 1.2053,-2.6775 2.6877,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 z" fill="white"></path></svg></button></div></section><blockquote><p>This article will explain how to configure and use the Google Cloud Logging service in Apache APISIX.</p></blockquote><p></p><div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640155567091-2611f8b8-8181-42d8-8756-e892b3768a8d.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640155567091-2611f8b8-8181-42d8-8756-e892b3768a8d.webp, https://static.apiseven.com/202108/1640155567091-2611f8b8-8181-42d8-8756-e892b3768a8d.png" alt="Apache APISIX-Google Cloud Logging cover" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640155567091-2611f8b8-8181-42d8-8756-e892b3768a8d.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640155567091-2611f8b8-8181-42d8-8756-e892b3768a8d.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640155567091-2611f8b8-8181-42d8-8756-e892b3768a8d.png" alt="Apache APISIX-Google Cloud Logging cover" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640155567091-2611f8b8-8181-42d8-8756-e892b3768a8d.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div><p></p><p>Logging is an important infrastructure for distributed systems. It can help developers observe the status of service operation, improve the efficiency of service troubleshooting and diagnosis, and conduct multi-dimensional analysis to improve the overall stability and operational efficiency of the system.</p><p><a href="https://cloud.google.com/logging/" target="_blank" rel="noopener noreferrer">Google Cloud Logging</a> is a real-time log management service provided by Google Cloud, offering EB-level storage, search, analysis, and alerting services. Google Cloud Logging&#x27;s log browser allows you to search, sort, and analyze logs easily and efficiently, and Google Cloud Logging also provides saved queries and rich graphical features to make log screening results retrievable and more intuitive.</p><p>Apache APISIX has previously supported the integration of <a href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/http-logger.md" target="_blank" rel="noopener noreferrer">HTTP Logger</a> , <a href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/tcp-logger.md" target="_blank" rel="noopener noreferrer">TCP Logger</a>, <a href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/kafka-logger.md" target="_blank" rel="noopener noreferrer">Kafka Logger</a>, <a href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/udp-logger.md" target="_blank" rel="noopener noreferrer">UDP Logger</a>, <a href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/rocketmq-logger.md" target="_blank" rel="noopener noreferrer">RocketMQ Logger</a>, <a href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/skywalking-logger.md" target="_blank" rel="noopener noreferrer">SkyWalking Logger</a>, <a href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/sls-logger.md" target="_blank" rel="noopener noreferrer">Aliyun Cloud Logging(SLS)</a> and many other open source and cloud logging service solutions.</p><p>Recently, Apache APISIX has also added support for Google Cloud Logging, giving users a new logging solution when using Apache APISIX as a gateway: use <a href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/google-cloud-logging.md" target="_blank" rel="noopener noreferrer">google-cloud-logging</a> to forward Apache APISIX request logs to the Google Cloud Logging service for analysis and storage.</p><p>When the plugin is enabled, Apache APISIX will take the request context information in Log Phase and serialize it into Google Cloud Logging&#x27;s <a href="https://cloud.google.com/logging/docs/reference/v2/rest/v2/LogEntry" target="_blank" rel="noopener noreferrer">LogEntry</a>, then submit the serialized log data to the batch queue, and when the batch queue triggers a user-set time or entry threshold, the log data will be forwarded to Google Cloud Logging service via Google Cloud API to the Google Cloud Logging service.</p><p>This article will explain how to configure and use the Google Cloud Logging service in Apache APISIX.</p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="configure-google-cloud">Configure Google Cloud<a aria-hidden="true" class="hash-link" href="#configure-google-cloud" title="Direct link to heading">‚Äã</a></h2><ol><li>Open your browser and visit Google Cloud Homepage.</li><li>Enter your username and password to log in to the Google Cloud console.</li><li>Click the Google Cloud console left menu and select &quot;IAM &amp; Admin &gt; Create a Project&quot; to start creating a project.
<div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640137078950-3a0b472b-df9f-4f75-9c03-816138860f74.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640137078950-3a0b472b-df9f-4f75-9c03-816138860f74.webp, https://static.apiseven.com/202108/1640137078950-3a0b472b-df9f-4f75-9c03-816138860f74.png" alt="create a project" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640137078950-3a0b472b-df9f-4f75-9c03-816138860f74.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640137078950-3a0b472b-df9f-4f75-9c03-816138860f74.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640137078950-3a0b472b-df9f-4f75-9c03-816138860f74.png" alt="create a project" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640137078950-3a0b472b-df9f-4f75-9c03-816138860f74.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div></li><li>Enter a project name, select an organization name, and click &quot;CREATE&quot; to create the project.
<div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640137136967-effec599-2263-45e7-874d-53a547b83aae.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640137136967-effec599-2263-45e7-874d-53a547b83aae.webp, https://static.apiseven.com/202108/1640137136967-effec599-2263-45e7-874d-53a547b83aae.png" alt="create a project-2" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640137136967-effec599-2263-45e7-874d-53a547b83aae.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640137136967-effec599-2263-45e7-874d-53a547b83aae.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640137136967-effec599-2263-45e7-874d-53a547b83aae.png" alt="create a project-2" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640137136967-effec599-2263-45e7-874d-53a547b83aae.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div></li><li>When the project is created successfully, the top right corner of the console indicates that the creation was successful.
<div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640137177601-6ac703ef-99e4-4ac2-82e3-5b978348f458.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640137177601-6ac703ef-99e4-4ac2-82e3-5b978348f458.webp, https://static.apiseven.com/202108/1640137177601-6ac703ef-99e4-4ac2-82e3-5b978348f458.png" alt="project notification" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640137177601-6ac703ef-99e4-4ac2-82e3-5b978348f458.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640137177601-6ac703ef-99e4-4ac2-82e3-5b978348f458.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640137177601-6ac703ef-99e4-4ac2-82e3-5b978348f458.png" alt="project notification" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640137177601-6ac703ef-99e4-4ac2-82e3-5b978348f458.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div></li><li>Click in the window to select the project, or select the project operation path in the top navigation bar of the console home page. After selecting the project, you will be redirected to the console home page, where you can already see the data about the current project in the top navigation bar and the project information in the information center.
<div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640137215687-4a2a4789-09d3-4cc0-85fa-be67762cf9b7.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640137215687-4a2a4789-09d3-4cc0-85fa-be67762cf9b7.webp, https://static.apiseven.com/202108/1640137215687-4a2a4789-09d3-4cc0-85fa-be67762cf9b7.png" alt="view your project" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640137215687-4a2a4789-09d3-4cc0-85fa-be67762cf9b7.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640137215687-4a2a4789-09d3-4cc0-85fa-be67762cf9b7.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640137215687-4a2a4789-09d3-4cc0-85fa-be67762cf9b7.png" alt="view your project" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640137215687-4a2a4789-09d3-4cc0-85fa-be67762cf9b7.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div></li><li>After you finish creating the project, you need to create a service account for the project. Please go back to the Google Cloud console home page and click &quot;IAM &amp; Admin &gt; Service Account&quot; on the left menu to start creating a service account.
<div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640137733012-6c9808c8-9c96-401e-a680-03a276b964c0.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640137733012-6c9808c8-9c96-401e-a680-03a276b964c0.webp, https://static.apiseven.com/202108/1640137733012-6c9808c8-9c96-401e-a680-03a276b964c0.png" alt="start creating a service account" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640137733012-6c9808c8-9c96-401e-a680-03a276b964c0.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640137733012-6c9808c8-9c96-401e-a680-03a276b964c0.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640137733012-6c9808c8-9c96-401e-a680-03a276b964c0.png" alt="start creating a service account" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640137733012-6c9808c8-9c96-401e-a680-03a276b964c0.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div></li><li>Click &quot;CREATE SERVICE ACCOUNT&quot; to create the service account.
<div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640137784375-e47cbe0e-7735-4e7b-a881-1a9ec1c12ffc.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640137784375-e47cbe0e-7735-4e7b-a881-1a9ec1c12ffc.webp, https://static.apiseven.com/202108/1640137784375-e47cbe0e-7735-4e7b-a881-1a9ec1c12ffc.png" alt="create a service account" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640137784375-e47cbe0e-7735-4e7b-a881-1a9ec1c12ffc.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640137784375-e47cbe0e-7735-4e7b-a881-1a9ec1c12ffc.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640137784375-e47cbe0e-7735-4e7b-a881-1a9ec1c12ffc.png" alt="create a service account" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640137784375-e47cbe0e-7735-4e7b-a881-1a9ec1c12ffc.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div></li><li>Enter the service account name and ID (the ID usually follows the account generation), and then click &quot;CREATE AND CONTINUE&quot;.
<div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640137834702-76166e6f-ed98-4a85-a759-2ce78f795794.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640137834702-76166e6f-ed98-4a85-a759-2ce78f795794.webp, https://static.apiseven.com/202108/1640137834702-76166e6f-ed98-4a85-a759-2ce78f795794.png" alt="create a service account-2" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640137834702-76166e6f-ed98-4a85-a759-2ce78f795794.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640137834702-76166e6f-ed98-4a85-a759-2ce78f795794.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640137834702-76166e6f-ed98-4a85-a759-2ce78f795794.png" alt="create a service account-2" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640137834702-76166e6f-ed98-4a85-a759-2ce78f795794.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div></li><li>Click on &quot;Role&quot; and type &quot;Logging Admin&quot; in the search box to search for this role and select &quot;Logging Admin&quot; as the role.
<div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640137883981-0f780040-8398-4d38-9600-a5e54b29b48e.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640137883981-0f780040-8398-4d38-9600-a5e54b29b48e.webp, https://static.apiseven.com/202108/1640137883981-0f780040-8398-4d38-9600-a5e54b29b48e.png" alt="create a service account-3" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640137883981-0f780040-8398-4d38-9600-a5e54b29b48e.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640137883981-0f780040-8398-4d38-9600-a5e54b29b48e.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640137883981-0f780040-8398-4d38-9600-a5e54b29b48e.png" alt="create a service account-3" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640137883981-0f780040-8398-4d38-9600-a5e54b29b48e.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div></li><li>Click &quot;DONE&quot; to complete the service account creation and jump to the service account home page. At this point you can see the account you just created and its details in the list.
<div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640137970837-ed1994be-87d0-48b8-bec5-010200fe1f1d.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640137970837-ed1994be-87d0-48b8-bec5-010200fe1f1d.webp, https://static.apiseven.com/202108/1640137970837-ed1994be-87d0-48b8-bec5-010200fe1f1d.png" alt="service account information" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640137970837-ed1994be-87d0-48b8-bec5-010200fe1f1d.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640137970837-ed1994be-87d0-48b8-bec5-010200fe1f1d.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640137970837-ed1994be-87d0-48b8-bec5-010200fe1f1d.png" alt="service account information" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640137970837-ed1994be-87d0-48b8-bec5-010200fe1f1d.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div></li><li>Click &quot;Manage keys&quot; in the last column of the service account to enter the secret key management interface.
<div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640138660649-cd57da29-5965-4251-9deb-300de830dfd9.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640138660649-cd57da29-5965-4251-9deb-300de830dfd9.webp, https://static.apiseven.com/202108/1640138660649-cd57da29-5965-4251-9deb-300de830dfd9.png" alt="enter secret key management interface" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640138660649-cd57da29-5965-4251-9deb-300de830dfd9.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640138660649-cd57da29-5965-4251-9deb-300de830dfd9.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640138660649-cd57da29-5965-4251-9deb-300de830dfd9.png" alt="enter secret key management interface" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640138660649-cd57da29-5965-4251-9deb-300de830dfd9.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div></li><li>Click &quot;ADD KEY &gt; Create new key&quot; to start creating a new secret key.
<div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640138732589-1aea201b-de2d-455a-8c04-c3f5a28dfa91.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640138732589-1aea201b-de2d-455a-8c04-c3f5a28dfa91.webp, https://static.apiseven.com/202108/1640138732589-1aea201b-de2d-455a-8c04-c3f5a28dfa91.png" alt="create a new secret key" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640138732589-1aea201b-de2d-455a-8c04-c3f5a28dfa91.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640138732589-1aea201b-de2d-455a-8c04-c3f5a28dfa91.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640138732589-1aea201b-de2d-455a-8c04-c3f5a28dfa91.png" alt="create a new secret key" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640138732589-1aea201b-de2d-455a-8c04-c3f5a28dfa91.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div></li><li>Select the secret key type as &quot;JSON&quot; in the pop-up page, and then click &quot;CREATE&quot; to create a new secret key.
<div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640138785425-23ee8efe-bc0d-428a-a627-2f428440da37.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640138785425-23ee8efe-bc0d-428a-a627-2f428440da37.webp, https://static.apiseven.com/202108/1640138785425-23ee8efe-bc0d-428a-a627-2f428440da37.png" alt="create a new secret key-2" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640138785425-23ee8efe-bc0d-428a-a627-2f428440da37.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640138785425-23ee8efe-bc0d-428a-a627-2f428440da37.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640138785425-23ee8efe-bc0d-428a-a627-2f428440da37.png" alt="create a new secret key-2" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640138785425-23ee8efe-bc0d-428a-a627-2f428440da37.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div></li><li>The private key information will be automatically downloaded to the system default Downloads directory through your browser . When you enable google-cloud-logging plugin, you need to use the information in this private key, so please save the private key file.
<div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640138820163-aa459874-e78e-4156-ab74-58fc7e2ae13f.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640138820163-aa459874-e78e-4156-ab74-58fc7e2ae13f.webp, https://static.apiseven.com/202108/1640138820163-aa459874-e78e-4156-ab74-58fc7e2ae13f.png" alt="Download your key" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640138820163-aa459874-e78e-4156-ab74-58fc7e2ae13f.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640138820163-aa459874-e78e-4156-ab74-58fc7e2ae13f.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640138820163-aa459874-e78e-4156-ab74-58fc7e2ae13f.png" alt="Download your key" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640138820163-aa459874-e78e-4156-ab74-58fc7e2ae13f.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="configure-apache-apisix">Configure Apache APISIX<a aria-hidden="true" class="hash-link" href="#configure-apache-apisix" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="enable-google-cloud-logging-plugin">Enable google-cloud-logging plugin<a aria-hidden="true" class="hash-link" href="#enable-google-cloud-logging-plugin" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="option-1-upload-key-file-configuration">Option 1: Upload key file configuration<a aria-hidden="true" class="hash-link" href="#option-1-upload-key-file-configuration" title="Direct link to heading">‚Äã</a></h4><ol><li>Upload the private key file to the Apache APISIX node server.</li><li>Configure the file path to the <code>google-cloud-logging.auth_file</code>, as shown below:</li></ol><div class="codeBlockContainer_5tM7"><div class="codeBlockContent_VFOK shell"><pre tabindex="0" class="prism-code language-shell codeBlock_sqlf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Aq39"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> http://127.0.0.1:9080/apisix/admin/routes/1  -H </span><span class="token string" style="color:#e3116c">&#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27;</span><span class="token plain"> -X PUT -d </span><span class="token string" style="color:#e3116c">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;uri&quot;:&quot;/logging.do&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;upstream&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;type&quot;:&quot;roundrobin&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;nodes&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;127.0.0.1:1980&quot;:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;plugins&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;google-cloud-logging&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            // Google Cloud Logging Private Key File</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;auth_file&quot;:&quot;/path/to/apache-apisix-fcafc68c2f41.json&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            // Maximum number of entries per batch queue.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;batch_max_size&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            // Maximum time to refresh the buffer in seconds.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;inactive_timeout&quot;: 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_gLFX clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="option-2-declare-configurations-in-json">Option 2: Declare configurations in JSON<a aria-hidden="true" class="hash-link" href="#option-2-declare-configurations-in-json" title="Direct link to heading">‚Äã</a></h4><ol><li>Open the private key file.</li><li>Configure the value of <code>project_id</code> to <code>google-cloud-logging.auth_config.project_id</code>.</li><li>Configure the value of <code>private_key</code> to <code>google-cloud-logging.auth_config.private_key</code>.
As shown below:</li></ol><div class="codeBlockContainer_5tM7"><div class="codeBlockContent_VFOK shell"><pre tabindex="0" class="prism-code language-shell codeBlock_sqlf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Aq39"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> http://127.0.0.1:9080/apisix/admin/routes/1  -H </span><span class="token string" style="color:#e3116c">&#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27;</span><span class="token plain"> -X PUT -d </span><span class="token string" style="color:#e3116c">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;uri&quot;:&quot;/logging.do&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;upstream&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;type&quot;:&quot;roundrobin&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;nodes&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;127.0.0.1:1980&quot;:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;plugins&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;google-cloud-logging&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            // Google Cloud Logging Private Key File</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;auth_config&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                &quot;project_id&quot;:&quot;apache-apisix&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                &quot;private_key&quot;:&quot;-----BEGIN RSA PRIVATE KEY-----your private key-----END RSA PRIVATE KEY-----&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            // Maximum number of entries per batch queue.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;batch_max_size&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            // Maximum time to refresh the buffer in seconds.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;inactive_timeout&quot;: 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_gLFX clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="parameters">Parameters<a aria-hidden="true" class="hash-link" href="#parameters" title="Direct link to heading">‚Äã</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Defualt Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">auth_config</td><td align="left">No</td><td align="left">n/a</td><td align="left">Google Cloud Logging Private Key File. Either auth_config or auth_file must be configured.</td></tr><tr><td align="left">auth_config.private_key</td><td align="left">Yes</td><td align="left">n/a</td><td align="left">Google Cloud Logging Private Key.</td></tr><tr><td align="left">auth_config.project_id</td><td align="left">Yes</td><td align="left">n/a</td><td align="left">Project ID of Google Service Account.</td></tr><tr><td align="left">auth_config.token_uri</td><td align="left">No</td><td align="left">oauth2.googleapis.com/token</td><td align="left">The URI of the token requesting the Google Services account.</td></tr><tr><td align="left">auth_config.entries_uri</td><td align="left">No</td><td align="left">logging.googleapis.com/v2/entries:write</td><td align="left">Google Log Service Write Log Entry API.</td></tr><tr><td align="left">auth_config.scopes</td><td align="left">No</td><td align="left">[&quot;https://www.googleapis.com/auth/logging.read&quot;,&quot;https://www.googleapis.com/auth/logging.write&quot;,&quot;https://www.googleapis.com/auth/logging.admin&quot;,&quot;https://www.googleapis.com/auth/cloud-platform&quot;]</td><td align="left">Google Services account access scope, refer to: <a href="https://developers.google.com/identity/protocols/oauth2/scopes#logging" target="_blank" rel="noopener noreferrer">OAuth 2.0 Scopes for Google APIs</a></td></tr><tr><td align="left">auth_file</td><td align="left">No</td><td align="left">n/a</td><td align="left">Path to the Google Services account JSON file (either auth_config or auth_file must be configured)</td></tr><tr><td align="left">ssl_verify</td><td align="left">No</td><td align="left">TRUE</td><td align="left">Enable SSL authentication, configured according to <a href="https://github.com/openresty/lua-nginx-module#tcpsocksslhandshake" target="_blank" rel="noopener noreferrer">OpenResty documentation</a> options.</td></tr><tr><td align="left">resource</td><td align="left">No</td><td align="left">{&quot;type&quot;: &quot;global&quot;}</td><td align="left">Google Monitored Resources, please refer to <a href="https://cloud.google.com/logging/docs/reference/v2/rest/v2/MonitoredResource" target="_blank" rel="noopener noreferrer">MonitoredResource</a>.</td></tr><tr><td align="left">log_id</td><td align="left">No</td><td align="left">apisix.apache.org%2Flogs</td><td align="left">Google Log ID, reference: <a href="https://cloud.google.com/logging/docs/reference/v2/rest/v2/LogEntry" target="_blank" rel="noopener noreferrer">LogEntry</a>.</td></tr><tr><td align="left">max_retry_count</td><td align="left">No</td><td align="left">0</td><td align="left">Maximum number of retries before removal from the processing pipeline.</td></tr><tr><td align="left">retry_delay</td><td align="left">No</td><td align="left">1</td><td align="left">Number of seconds that process execution should be delayed if execution fails.</td></tr><tr><td align="left">buffer_duration</td><td align="left">No</td><td align="left">60</td><td align="left">The maximum duration (in seconds) of the oldest entry in the batch must be processed first.</td></tr><tr><td align="left">inactive_timeout</td><td align="left">No</td><td align="left">10</td><td align="left">Maximum time to refresh the buffer in seconds.</td></tr><tr><td align="left">batch_max_size</td><td align="left">No</td><td align="left">100</td><td align="left">Maximum time to refresh the buffer in seconds.</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="verify-plugin-is-running-normally">Verify plugin is running normally<a aria-hidden="true" class="hash-link" href="#verify-plugin-is-running-normally" title="Direct link to heading">‚Äã</a></h3><ol><li><p>Run the following command to send a request to Google Cloud Logging.</p><div class="codeBlockContainer_5tM7"><div class="codeBlockContent_VFOK shell"><pre tabindex="0" class="prism-code language-shell codeBlock_sqlf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Aq39"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -i http://127.0.0.1:9080/logging.do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> HTTP/1.1 </span><span class="token number" style="color:#36acaa">200</span><span class="token plain"> OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Content-Type: text/html</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">charset</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Transfer-Encoding: chunked</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Connection: keep-alive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Date: Fri, </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> Dec </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> 09:57:52 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Server: APISIX/2.11.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Hello, Google Cloud Logging</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_gLFX clean-btn">Copy</button></div></div></li><li><p>Open your browser and visit Google Cloud Homepage.</p></li><li><p>Enter your username and password to log in to the Google Cloud console.</p></li><li><p>View the log of requests sent through the log browser, and the returned results are shown below.
</p><div type="image/webp" placeholdersrc="https://static.apiseven.com/apisix-thumbnail/202108/1640139014263-fac86f87-d008-475c-aeae-289ab4ba62a8.webp" class="rc-image"><img loading="lazy" srcset="https://static.apiseven.com/apisix-webp/202108/1640139014263-fac86f87-d008-475c-aeae-289ab4ba62a8.webp, https://static.apiseven.com/202108/1640139014263-fac86f87-d008-475c-aeae-289ab4ba62a8.png" alt="View the log" class="rc-image-img" src="https://static.apiseven.com/apisix-webp/202108/1640139014263-fac86f87-d008-475c-aeae-289ab4ba62a8.webp"><div aria-hidden="true" class="rc-image-placeholder"><div class="rc-image"><img srcset="https://static.apiseven.com/apisix-thumbnail/202108/1640139014263-fac86f87-d008-475c-aeae-289ab4ba62a8.webp, https://static.apiseven.com/apisix-thumbnail/202108/1640139014263-fac86f87-d008-475c-aeae-289ab4ba62a8.png" alt="View the log" class="rc-image-img" src="https://static.apiseven.com/apisix-thumbnail/202108/1640139014263-fac86f87-d008-475c-aeae-289ab4ba62a8.webp"></div></div><div class="rc-image-mask">Click to Preview</div></div><p></p></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="disable-google-cloud-logging-plugin">Disable google-cloud-logging plugin<a aria-hidden="true" class="hash-link" href="#disable-google-cloud-logging-plugin" title="Direct link to heading">‚Äã</a></h3><p>You can remove the google-cloud-logging related configuration block to deactivate the plugin if you are finished using it.</p><div class="codeBlockContainer_5tM7"><div class="codeBlockContent_VFOK shell"><pre tabindex="0" class="prism-code language-shell codeBlock_sqlf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Aq39"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> http://127.0.0.1:9080/apisix/admin/routes/1  -H </span><span class="token string" style="color:#e3116c">&#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27;</span><span class="token plain"> -X PUT -d </span><span class="token string" style="color:#e3116c">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;uri&quot;:&quot;/logging.do&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;upstream&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;type&quot;:&quot;roundrobin&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;nodes&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;127.0.0.1:1980&quot;:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;plugins&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_gLFX clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="summary">Summary<a aria-hidden="true" class="hash-link" href="#summary" title="Direct link to heading">‚Äã</a></h2><p>This article describes the detailed steps for interfacing Apache APISIX and Google Cloud Logging. We hope this article will give you a clearer understanding of using Google Cloud Logging in Apache APISIX and facilitate the subsequent hands-on operation.</p><p>Apache APISIX is not only committed to maintaining its own high performance, but also has always attached great importance to the construction of open source ecology. At present, Apache APISIX has 10+ logging-related plugins and supports interfacing with mainstream open source logging projects in the industry.</p><p>If you have a need to interface to other logs, visit Apache APISIX&#x27;s <a href="https://github.com/apache/apisix/issues" target="_blank" rel="noopener noreferrer">GitHub</a> and leave your suggestions via issue; or subscribe to the Apache APISIX <a href="https://apisix.apache.org/docs/general/join/" target="_blank" rel="noopener noreferrer">mailing list</a> and express your thoughts via email.</p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="related-articles">Related articles<a aria-hidden="true" class="hash-link" href="#related-articles" title="Direct link to heading">‚Äã</a></h2><p><a href="https://apisix.apache.org/blog/2021/12/07/apisix-integrate-skywalking-plugin/" target="_blank" rel="noopener noreferrer">Apache APISIX Integrates with SkyWalking to Create a Full Range of Log Processing</a></p><p><a href="https://apisix.apache.org/blog/2021/12/08/apisix-integrate-rocketmq-logger-plugin/" target="_blank" rel="noopener noreferrer">Apache APISIX &amp; RocketMQ Helps User API Log Monitoring Capabilities</a></p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_xD8n"><div class="col"><b>Tags:</b><ul class="tags_NBRY padding--none margin-left--sm"><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/plugins/">Plugins</a></li><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/ecosystem/">Ecosystem</a></li></ul></div></footer></article><section class="shareSection_OUzq"><div><button aria-label="linkedin" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="32" height="32"><circle cx="32" cy="32" r="31" fill="#007fb1"></circle><path d="M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z" fill="white"></path></svg></button><button aria-label="twitter" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="32" height="32"><circle cx="32" cy="32" r="31" fill="#00aced"></circle><path d="M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z" fill="white"></path></svg></button><button aria-label="reddit" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="32" height="32"><circle cx="32" cy="32" r="31" fill="#ff4500"></circle><path d="m 52.8165,31.942362 c 0,-2.4803 -2.0264,-4.4965 -4.5169,-4.4965 -1.2155,0 -2.3171,0.4862 -3.128,1.2682 -3.077,-2.0247 -7.2403,-3.3133 -11.8507,-3.4782 l 2.5211,-7.9373 6.8272,1.5997 -0.0102,0.0986 c 0,2.0281 1.6575,3.6771 3.6958,3.6771 2.0366,0 3.6924,-1.649 3.6924,-3.6771 0,-2.0281 -1.6575,-3.6788 -3.6924,-3.6788 -1.564,0 -2.8968,0.9758 -3.4357,2.3443 l -7.3593,-1.7255 c -0.3213,-0.0782 -0.6477,0.1071 -0.748,0.4233 L 32,25.212062 c -4.8246,0.0578 -9.1953,1.3566 -12.41,3.4425 -0.8058,-0.7446 -1.8751,-1.2104 -3.0583,-1.2104 -2.4905,0 -4.5152,2.0179 -4.5152,4.4982 0,1.649 0.9061,3.0787 2.2389,3.8607 -0.0884,0.4794 -0.1462,0.9639 -0.1462,1.4569 0,6.6487 8.1736,12.0581 18.2223,12.0581 10.0487,0 18.224,-5.4094 18.224,-12.0581 0,-0.4658 -0.0493,-0.9248 -0.1275,-1.377 1.4144,-0.7599 2.3885,-2.2304 2.3885,-3.9406 z m -29.2808,3.0872 c 0,-1.4756 1.207,-2.6775 2.6894,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 -1.4824,0 -2.6894,-1.2002 -2.6894,-2.6758 z m 15.4037,7.9373 c -1.3549,1.3481 -3.4816,2.0043 -6.5008,2.0043 l -0.0221,-0.0051 -0.0221,0.0051 c -3.0209,0 -5.1476,-0.6562 -6.5008,-2.0043 -0.2465,-0.2448 -0.2465,-0.6443 0,-0.8891 0.2465,-0.2465 0.6477,-0.2465 0.8942,0 1.105,1.0999 2.9393,1.6337 5.6066,1.6337 l 0.0221,0.0051 0.0221,-0.0051 c 2.6673,0 4.5016,-0.5355 5.6066,-1.6354 0.2465,-0.2465 0.6477,-0.2448 0.8942,0 0.2465,0.2465 0.2465,0.6443 0,0.8908 z m -0.3213,-5.2615 c -1.4824,0 -2.6877,-1.2002 -2.6877,-2.6758 0,-1.4756 1.2053,-2.6775 2.6877,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 z" fill="white"></path></svg></button></div></section><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2021/12/24/open-policy-agent/"><div class="pagination-nav__sublabel sublabel_M5Gs">Newer Post</div><div class="pagination-nav__label">Apache APISIX integrates with Open Policy Agent</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2021/12/20/weekly-report-1215/"><div class="pagination-nav__sublabel sublabel_M5Gs">Older Post</div><div class="pagination-nav__label">Biweekly Report (Dec 1 - Dec 15)</div></a></div></nav></div></div></div></div><footer class="container_N-4m"><div class="linksRow_U0oR"><div class="linksCol_R6VE"><div>ASF</div><ul><li class="footer__item"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer"><span></span><span>Foundation</span></a></li><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer"><span></span><span>License</span></a></li><li class="footer__item"><a href="https://www.apache.org/events/" target="_blank" rel="noopener noreferrer"><span></span><span>Events</span></a></li><li class="footer__item"><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer"><span></span><span>Security</span></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer"><span></span><span>Sponsorship</span></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer"><span></span><span>Thanks</span></a></li></ul></div><div class="linksCol_R6VE"><div>Community</div><ul><li class="footer__item"><a href="https://github.com/apache/apisix/issues" target="_blank" rel="noopener noreferrer"><span></span><span>GitHub</span></a></li><li class="footer__item"><a href="/docs/general/join/"><span></span><span>Slack</span></a></li><li class="footer__item"><a href="https://twitter.com/ApacheAPISIX" target="_blank" rel="noopener noreferrer"><span></span><span>Twitter</span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCgPD18cMhOg5rmPVnQhAC8g" target="_blank" rel="noopener noreferrer"><span></span><span>YouTube</span></a></li></ul></div><div class="linksCol_R6VE"><div>More</div><ul><li class="footer__item"><a target="_parent" href="/blog/"><span></span><span>Blog</span></a></li><li class="footer__item"><a target="_parent" href="/showcase/"><span></span><span>Showcase</span></a></li><li class="footer__item"><a target="_parent" href="/plugins/"><span></span><span>Plugin Hub</span></a></li><li class="footer__item"><a href="https://github.com/apache/apisix/milestones" target="_parent" rel="noopener noreferrer"><span></span><span>Roadmap</span></a></li></ul></div></div><div class="copyright_Bdi1"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer"><span style="display:inline-block;width:231.25px;height:40px"></span></a><div>Copyright ¬© 2019-2026 The Apache Software Foundation. Apache APISIX, APISIX¬Æ, Apache, the Apache feather logo, and the Apache APISIX project logo are either registered trademarks or trademarks of the Apache Software Foundation.</div></div></footer></div>
<script src="https://apisix-website-static.apiseven.com/assets/js/runtime~main.4bbc9839.js"></script>
<script src="https://apisix-website-static.apiseven.com/assets/js/main.a516b59b.js"></script>
</body>
</html>