"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[91039],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>k});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),l=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=l(e.components);return n.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=l(a),k=r,u=c["".concat(p,".").concat(k)]||c[k]||m[k]||i;return a?n.createElement(u,s(s({ref:t},d),{},{components:a})):n.createElement(u,s({ref:t},d))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,s=new Array(i);s[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,s[1]=o;for(var l=2;l<i;l++)s[l]=a[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},42138:(e,t,a)=>{a.r(t),a.d(t,{contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const i={title:"Annotations",slug:"/reference/apisix-ingress-controller/annotation",description:"Learn how annotations extend the functionality of Kubernetes Ingress and IngressClass resource in APISIX Ingress Controller to configure routing, security, and gateway behaviors."},s=void 0,o={unversionedId:"reference/annotations",id:"reference/annotations",isDocsHomePage:!1,title:"Annotations",description:"Learn how annotations extend the functionality of Kubernetes Ingress and IngressClass resource in APISIX Ingress Controller to configure routing, security, and gateway behaviors.",source:"@site/docs/apisix-ingress-controller/reference/annotations.md",sourceDirName:"reference",slug:"/reference/apisix-ingress-controller/annotation",permalink:"/zh/docs/ingress-controller/next/reference/apisix-ingress-controller/annotation",editUrl:"/zh/edit#https://github.com/apache/apisix-ingress-controller/edit/master/docs/zh/latest/reference/annotations.md",tags:[],version:"current",frontMatter:{title:"Annotations",slug:"/reference/apisix-ingress-controller/annotation",description:"Learn how annotations extend the functionality of Kubernetes Ingress and IngressClass resource in APISIX Ingress Controller to configure routing, security, and gateway behaviors."},sidebar:"docs",previous:{title:"Configuration File",permalink:"/zh/docs/ingress-controller/next/reference/apisix-ingress-controller/configuration-file"},next:{title:"Upgrade Guide",permalink:"/zh/docs/ingress-controller/next/upgrade-guide"}},p=[{value:"Ingress Annotations",id:"ingress-annotations",children:[]},{value:"IngressClass Annotations",id:"ingressclass-annotations",children:[]},{value:"Annotation Details",id:"annotation-details",children:[{value:"Ingress Class",id:"ingress-class",children:[]},{value:"Response Rewrite",id:"response-rewrite",children:[]},{value:"IP Restriction",id:"ip-restriction",children:[]},{value:"Forward Auth",id:"forward-auth",children:[]},{value:"RegEx Route Matching",id:"regex-route-matching",children:[]},{value:"Authentication",id:"authentication",children:[]},{value:"Cross Namespace Service Access",id:"cross-namespace-service-access",children:[]},{value:"Proxy Rewrite",id:"proxy-rewrite",children:[]},{value:"Plugin Config",id:"plugin-config",children:[]},{value:"CSRF",id:"csrf",children:[]},{value:"Allow/Block HTTP Methods",id:"allowblock-http-methods",children:[]},{value:"Enable Websocket",id:"enable-websocket",children:[]},{value:"Redirect",id:"redirect",children:[]},{value:"CORS",id:"cors",children:[]},{value:"Upstream",id:"upstream",children:[]},{value:"GatewayProxy Namespace Specification",id:"gatewayproxy-namespace-specification",children:[]}]}],l={toc:p};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Annotations are key-value pairs that allow controllers to configure functionalities that are not available through standard Kubernetes resource fields. In APISIX Ingress Controller, annotations are commonly used to configure gateway behaviors, routing rules, upstream settings, plugins, and other features. Alternatively, you can use APISIX CRDs to configure these features for a better experience."),(0,r.kt)("p",null,"This document describes all available annotations and their uses."),(0,r.kt)("h2",{id:"ingress-annotations"},"Ingress Annotations"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Annotation"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"kubernetes.io/ingress.class"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/use-regex"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/enable-websocket"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/plugin-config-name"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/upstream-scheme"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/upstream-retries"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/upstream-connect-timeout"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/upstream-read-timeout"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/upstream-send-timeout"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/enable-cors"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/cors-allow-origin"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/cors-allow-headers"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/cors-allow-methods"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/enable-csrf"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/csrf-key"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/http-to-https"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/http-redirect"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/http-redirect-code"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/rewrite-target"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/rewrite-target-regex"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/rewrite-target-regex-template"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/enable-response-rewrite"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/response-rewrite-status-code"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/response-rewrite-body"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/response-rewrite-body-base64"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/response-rewrite-add-header"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/response-rewrite-set-header"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/response-rewrite-remove-header"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/auth-uri"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/auth-ssl-verify"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/auth-request-headers"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/auth-upstream-headers"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/auth-client-headers"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/allowlist-source-range"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/blocklist-source-range"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/http-allow-methods"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/http-block-methods"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/auth-type"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/svc-namespace"))))),(0,r.kt)("h2",{id:"ingressclass-annotations"},"IngressClass Annotations"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Annotation"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apisix.apache.org/parameters-namespace"))))),(0,r.kt)("h2",{id:"annotation-details"},"Annotation Details"),(0,r.kt)("p",null,"Note that annotation keys and values can only be strings."),(0,r.kt)("h3",{id:"ingress-class"},"Ingress Class"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"kubernetes.io/ingress.class")," annotation specifies which ingress controller should process a given Ingress resource. This is useful when multiple ingress controllers are deployed in the same cluster."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: httpbin\n  annotations:\n    kubernetes.io/ingress.class: "apisix"\nspec:\n  rules:\n  - http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n')),(0,r.kt)("h3",{id:"response-rewrite"},"Response Rewrite"),(0,r.kt)("p",null,"These annotations enable you to modify the response returned from the upstream service before it is sent to the client. They correspond to the functionality of the ",(0,r.kt)("inlineCode",{parentName:"p"},"response-rewrite")," plugin in APISIX."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Annotation"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/enable-response-rewrite")),(0,r.kt)("td",{parentName:"tr",align:null},"Enables the response rewrite feature. Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"true")," to enable response rewriting for this resource.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/response-rewrite-status-code")),(0,r.kt)("td",{parentName:"tr",align:null},"Specifies a new HTTP status code for the response.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/response-rewrite-body")),(0,r.kt)("td",{parentName:"tr",align:null},"Replaces the response body with the specified plain text content.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/response-rewrite-body-base64")),(0,r.kt)("td",{parentName:"tr",align:null},"Replaces the response body with Base64-encoded content.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/response-rewrite-add-header")),(0,r.kt)("td",{parentName:"tr",align:null},"Adds new headers to the response. You can specify multiple headers as a comma-separated list.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/response-rewrite-set-header")),(0,r.kt)("td",{parentName:"tr",align:null},"Sets or overrides existing headers in the response. You can specify multiple headers as a comma-separated list.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/response-rewrite-remove-header")),(0,r.kt)("td",{parentName:"tr",align:null},"Removes specified headers from the response. You can specify multiple headers as a comma-separated list.")))),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: httpbin-response-rewrite\n  annotations:\n    # highlight-start\n    k8s.apisix.apache.org/enable-response-rewrite: "true"\n    k8s.apisix.apache.org/response-rewrite-status-code: "403"\n    k8s.apisix.apache.org/response-rewrite-body: "Access denied"\n    k8s.apisix.apache.org/response-rewrite-add-header: "X-Reason:Forbidden,X-Env:Test"\n    k8s.apisix.apache.org/response-rewrite-remove-header: "header1,header2"\n    # highlight-end\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n')),(0,r.kt)("h3",{id:"ip-restriction"},"IP Restriction"),(0,r.kt)("p",null,"These annotations control client access based on IP address ranges. They correspond to the functionality of the ",(0,r.kt)("inlineCode",{parentName:"p"},"ip-restriction")," plugin in APISIX."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Annotation"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/allowlist-source-range")),(0,r.kt)("td",{parentName:"tr",align:null},"Comma-separated list of CIDR ranges that are allowed to access the resource. All other IPs are denied.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/blocklist-source-range")),(0,r.kt)("td",{parentName:"tr",align:null},"Comma-separated list of CIDR ranges that are blocked from accessing the resource.")))),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-ip-restriction\n  annotations:\n    k8s.apisix.apache.org/allowlist-source-range: "10.0.0.0/24,192.168.1.0/24"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n')),(0,r.kt)("h3",{id:"forward-auth"},"Forward Auth"),(0,r.kt)("p",null,"These annotations configure an external authentication endpoint that validates incoming requests before they reach the backend service. They correspond to the functionality of the ",(0,r.kt)("inlineCode",{parentName:"p"},"forward-auth")," plugin in APISIX."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Annotation"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/auth-uri")),(0,r.kt)("td",{parentName:"tr",align:null},"The URI of the external authentication server. Requests are forwarded to this URI for verification.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/auth-ssl-verify")),(0,r.kt)("td",{parentName:"tr",align:null},"Enables or disables SSL certificate verification when communicating with the authentication server. Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"true")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"false"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/auth-request-headers")),(0,r.kt)("td",{parentName:"tr",align:null},"Comma-separated list of request headers to forward to the authentication server.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/auth-upstream-headers")),(0,r.kt)("td",{parentName:"tr",align:null},"Comma-separated list of headers from the auth response to forward to the upstream service.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/auth-client-headers")),(0,r.kt)("td",{parentName:"tr",align:null},"Comma-separated list of headers from the auth response to return to the client.")))),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-forward-auth\n  annotations:\n    k8s.apisix.apache.org/auth-uri: "https://auth.example.com/verify"\n    k8s.apisix.apache.org/auth-ssl-verify: "true"\n    k8s.apisix.apache.org/auth-request-headers: "Authorization"\n    k8s.apisix.apache.org/auth-upstream-headers: "X-User-ID,X-User-Role"\n    k8s.apisix.apache.org/auth-client-headers: "X-Auth-Status"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n')),(0,r.kt)("h3",{id:"regex-route-matching"},"RegEx Route Matching"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"k8s.apisix.apache.org/use-regex")," annotation allows an Ingress to define routes using regular expressions for advanced path matching. Set to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," to interpret the ",(0,r.kt)("inlineCode",{parentName:"p"},"path")," field as a RegEx pattern."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-regex\n  annotations:\n    k8s.apisix.apache.org/use-regex: "true"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: "/users/[0-9]+"\n        pathType: ImplementationSpecific  # should use ImplementationSpecific with use-regex\n        backend:\n          service:\n            name: user-service\n            port:\n              number: 80\n')),(0,r.kt)("h3",{id:"authentication"},"Authentication"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"k8s.apisix.apache.org/auth-type")," annotation specifies the type of authentication to apply to an Ingress resource. Support ",(0,r.kt)("inlineCode",{parentName:"p"},"keyAuth")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"basicAuth"),"."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-key-auth\n  annotations:\n    k8s.apisix.apache.org/auth-type: "keyAuth"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n---\napiVersion: apisix.apache.org/v2\nkind: ApisixConsumer\nmetadata:\n  name: john\nspec:\n  ingressClassName: apisix\n  authParameter:\n    keyAuth:\n      value:\n        key: john-key\n')),(0,r.kt)("h3",{id:"cross-namespace-service-access"},"Cross Namespace Service Access"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"k8s.apisix.apache.org/svc-namespace")," annotation allows an Ingress to route traffic to a service located in a different namespace from the Ingress resource. By default, Ingresses can only reference Services within the same namespace."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: cross-namespace-ingress\n  namespace: aic # Ingress is in aic namespace\n  annotations:\n    k8s.apisix.apache.org/svc-namespace: "other-namespace"  # Service is in other-namespace\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: backend-service\n            port:\n              number: 80\n')),(0,r.kt)("h3",{id:"proxy-rewrite"},"Proxy Rewrite"),(0,r.kt)("p",null,"These annotations allow you to rewrite request paths before forwarding them to the upstream service. They correspond to the functionality of the ",(0,r.kt)("inlineCode",{parentName:"p"},"proxy-rewrite")," plugin in APISIX."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Annotation"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/rewrite-target")),(0,r.kt)("td",{parentName:"tr",align:null},"Rewrites the request path to the specified target path.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/rewrite-target-regex")),(0,r.kt)("td",{parentName:"tr",align:null},"Specifies a regular expression pattern to match in the original request path.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/rewrite-target-regex-template")),(0,r.kt)("td",{parentName:"tr",align:null},"Template for rewriting the request path when using ",(0,r.kt)("inlineCode",{parentName:"td"},"rewrite-target-regex"),". Supports capturing groups from the RegEx pattern.")))),(0,r.kt)("p",null,"For example, the following configuration rewrites requests so that requests to ",(0,r.kt)("inlineCode",{parentName:"p"},"/api")," are forwarded to ",(0,r.kt)("inlineCode",{parentName:"p"},"/new-path"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-rewrite\n  annotations:\n    k8s.apisix.apache.org/rewrite-target: "/new-path"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /api\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n')),(0,r.kt)("p",null,"For example, the following configuration rewrites requests so that requests to ",(0,r.kt)("inlineCode",{parentName:"p"},"/api/test")," are forwarded to ",(0,r.kt)("inlineCode",{parentName:"p"},"/backend/test"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-regex-rewrite\n  annotations:\n    k8s.apisix.apache.org/rewrite-target-regex: "^/api/(.*)"\n    k8s.apisix.apache.org/rewrite-target-regex-template: "/backend/$1"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /api\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n')),(0,r.kt)("h3",{id:"plugin-config"},"Plugin Config"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"k8s.apisix.apache.org/plugin-config-name")," annotation allows you to attach a predefined APISIX plugin configuration to an Ingress resource. It corresponds to a PluginConfig resource in APISIX, enabling reusable plugin settings across multiple routes or services."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-plugin-config\n  annotations:\n    k8s.apisix.apache.org/plugin-config-name: "rate-limit-config"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n---\napiVersion: apisix.apache.org/v2\nkind: ApisixPluginConfig\nmetadata:\n  name: rate-limit-config\nspec:\n  ingressClassName: apisix\n  plugins:\n  - name: limit-count\n    enable: true\n    config:\n      count: 2\n      time_window: 10\n      rejected_code: 429\n')),(0,r.kt)("h3",{id:"csrf"},"CSRF"),(0,r.kt)("p",null,"These annotations enable CSRF (Cross-Site Request Forgery) protection for an Ingress. They correspond to the ",(0,r.kt)("inlineCode",{parentName:"p"},"csrf")," plugin in APISIX."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Annotation"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/enable-csrf")),(0,r.kt)("td",{parentName:"tr",align:null},"Enables or disables CSRF protection. Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"true")," to enable the plugin.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/csrf-key")),(0,r.kt)("td",{parentName:"tr",align:null},"Specifies the secret key used to sign and validate CSRF tokens.")))),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-csrf\n  annotations:\n    k8s.apisix.apache.org/enable-csrf: "true"\n    k8s.apisix.apache.org/csrf-key: "my-secret-csrf-key"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n')),(0,r.kt)("h3",{id:"allowblock-http-methods"},"Allow/Block HTTP Methods"),(0,r.kt)("p",null,"These annotations control which HTTP methods are allowed or blocked for an Ingress. If both allow and block methods are specified, only the allow list is effective."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Annotation"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/http-allow-methods")),(0,r.kt)("td",{parentName:"tr",align:null},"Comma-separated list of HTTP methods that are explicitly allowed. Requests using other methods will be denied.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/http-block-methods")),(0,r.kt)("td",{parentName:"tr",align:null},"Comma-separated list of HTTP methods that are explicitly blocked. Requests using these methods will be denied.")))),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-http-methods\n  annotations:\n    k8s.apisix.apache.org/http-allow-methods: "GET,POST"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n')),(0,r.kt)("h3",{id:"enable-websocket"},"Enable Websocket"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"k8s.apisix.apache.org/enable-websocket")," annotation enables WebSocket support for an Ingress when set to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-websocket\n  annotations:\n    k8s.apisix.apache.org/enable-websocket: "true"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /ws\n        pathType: Exact\n        backend:\n          service:\n            name: websocket-service\n            port:\n              number: 8080\n')),(0,r.kt)("h3",{id:"redirect"},"Redirect"),(0,r.kt)("p",null,"These annotations configure HTTP-to-HTTPS redirection or custom HTTP redirects for an Ingress. They correspond to the ",(0,r.kt)("inlineCode",{parentName:"p"},"redirect")," plugin in APISIX."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Annotation"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/http-to-https")),(0,r.kt)("td",{parentName:"tr",align:null},"Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"true")," to automatically redirect HTTP requests to HTTPS.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/http-redirect")),(0,r.kt)("td",{parentName:"tr",align:null},"Specifies a custom URL to redirect requests to.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/http-redirect-code")),(0,r.kt)("td",{parentName:"tr",align:null},"HTTP status code to use for the redirect.")))),(0,r.kt)("p",null,"For example, the following configuration redirects HTTP requests to HTTPS with a 301 status code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-https-redirect\n  annotations:\n    k8s.apisix.apache.org/http-to-https: "true"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n')),(0,r.kt)("p",null,"For example, the following configuration redirects HTTP requests to a new URI with a custom HTTP redirect status code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-custom-redirect\n  annotations:\n    k8s.apisix.apache.org/http-redirect: "https://example.com/new-path"\n    k8s.apisix.apache.org/http-redirect-code: "302"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n')),(0,r.kt)("h3",{id:"cors"},"CORS"),(0,r.kt)("p",null,"These annotations configure Cross-Origin Resource Sharing (CORS) for an Ingress. They correspond to the ",(0,r.kt)("inlineCode",{parentName:"p"},"cors")," plugin in APISIX."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Annotation"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/enable-cors")),(0,r.kt)("td",{parentName:"tr",align:null},"Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"true")," to enable CORS.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/cors-allow-origin")),(0,r.kt)("td",{parentName:"tr",align:null},"Specifies the allowed origin(s), such as ",(0,r.kt)("inlineCode",{parentName:"td"},"*")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"https://example.com"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/cors-allow-headers")),(0,r.kt)("td",{parentName:"tr",align:null},"Comma-separated list of allowed headers in cross-origin requests.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/cors-allow-methods")),(0,r.kt)("td",{parentName:"tr",align:null},"Comma-separated list of allowed HTTP methods.")))),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-cors\n  annotations:\n    k8s.apisix.apache.org/enable-cors: "true"\n    k8s.apisix.apache.org/cors-allow-origin: "https://example.com"\n    k8s.apisix.apache.org/cors-allow-headers: "Content-Type,Authorization"\n    k8s.apisix.apache.org/cors-allow-methods: "GET,POST,PUT"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n')),(0,r.kt)("h3",{id:"upstream"},"Upstream"),(0,r.kt)("p",null,"These annotations allow you to configure upstream behavior for an Ingress in APISIX, including scheme, retries, and timeouts. They correspond to the upstream settings in Apache APISIX."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Annotation"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/upstream-scheme")),(0,r.kt)("td",{parentName:"tr",align:null},"Specifies the protocol used to communicate with the upstream service. Default is ",(0,r.kt)("inlineCode",{parentName:"td"},"http"),". Support ",(0,r.kt)("inlineCode",{parentName:"td"},"http"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"https"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"grpc"),", and ",(0,r.kt)("inlineCode",{parentName:"td"},"grpcs"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/upstream-retries")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of retries for upstream requests in case of failure.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/upstream-connect-timeout")),(0,r.kt)("td",{parentName:"tr",align:null},"Timeout for establishing a connection to the upstream service. Default is ",(0,r.kt)("inlineCode",{parentName:"td"},"60s"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/upstream-read-timeout")),(0,r.kt)("td",{parentName:"tr",align:null},"Timeout for reading a response from the upstream service. Default is ",(0,r.kt)("inlineCode",{parentName:"td"},"60s"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"k8s.apisix.apache.org/upstream-send-timeout")),(0,r.kt)("td",{parentName:"tr",align:null},"Timeout for sending a request to the upstream service. Default is ",(0,r.kt)("inlineCode",{parentName:"td"},"60s"),".")))),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-upstream\n  annotations:\n    k8s.apisix.apache.org/upstream-scheme: "https"\n    k8s.apisix.apache.org/upstream-retries: "3"\n    k8s.apisix.apache.org/upstream-connect-timeout: "5s"\n    k8s.apisix.apache.org/upstream-read-timeout: "5s"\n    k8s.apisix.apache.org/upstream-send-timeout: "5s"\nspec:\n  ingressClassName: apisix\n  rules:\n  - http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: httpbin\n            port:\n              number: 80\n')),(0,r.kt)("h3",{id:"gatewayproxy-namespace-specification"},"GatewayProxy Namespace Specification"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"apisix.apache.org/parameters-namespace")," annotation enables the specification of a custom namespace for GatewayProxy resources referenced by an IngressClass. This is used when a GatewayProxy resource resides in a specific namespace, as IngressClass is cluster-scoped and requires the namespace to locate the resource."),(0,r.kt)("p",null,"The annotation takes precedence over the ",(0,r.kt)("inlineCode",{parentName:"p"},"parameters.namespace")," field in the IngressClass spec. If neither is specified, it defaults to the ",(0,r.kt)("inlineCode",{parentName:"p"},"default")," namespace."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: networking.k8s.io/v1\nkind: IngressClass\nmetadata:\n  name: apisix\n  annotations:\n    apisix.apache.org/parameters-namespace: "apisix-system"\nspec:\n  controller: apisix.apache.org/ingress-controller\n  parameters:\n    apiGroup: apisix.apache.org\n    kind: GatewayProxy\n    name: apisix-config\n')))}d.isMDXComponent=!0}}]);